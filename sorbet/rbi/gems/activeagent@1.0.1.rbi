# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `activeagent` gem.
# Please instead update this file by running `bin/tapioca gem activeagent`.


# source://activeagent//lib/active_agent/providers/_base_provider.rb#10
::GEM_LOADERS = T.let(T.unsafe(nil), Hash)

# ActiveAgent is a framework for building AI agents with Rails-like conventions.
#
# It provides a structured approach to interacting with Large Language Models (LLMs)
# by offering a familiar interface inspired by ActionMailer. ActiveAgent handles
# prompt management, tool integration, streaming responses, and provider abstraction.
#
# = Core Concepts
#
# * **Agents**: Classes that inherit from {ActiveAgent::Base} and define prompts as methods
# * **Prompts**: Methods that return {Generation} objects for LLM interactions
# * **Tools**: Ruby methods that can be called by LLMs during generation
# * **Providers**: Abstraction layer for different LLM services (OpenAI, Anthropic, etc.)
# * **Streaming**: Real-time response handling via Server-Sent Events
#
# @example Creating a simple agent
#   class GreetingAgent < ActiveAgent::Base
#   generate_with :openai
#
#   def welcome(name:)
#   @name = name
#   end
#   end
#
#   # app/views/greeting_agent/welcome.md.erb
#   # Hello <%= @name %>! How can I help you today?
#
#   generation = GreetingAgent.welcome(name: "Alice")
#   response = generation.generate_now
# @example Streaming responses
#   class ChatAgent < ActiveAgent::Base
#   generate_with :openai
#
#   def chat(message:)
#   @message = message
#   end
#   end
#
#   ChatAgent.chat(message: "Tell me a story").generate do |stream|
#   stream.on_text_delta { |delta| print delta }
#   stream.on_tool_call { |name, args| puts "Calling #{name}" }
#   end
# @example Using tools
#   class WeatherAgent < ActiveAgent::Base
#   generate_with :anthropic
#
#   tool def get_weather(location:)
#   # Call weather API
#   { temperature: 72, condition: "sunny" }
#   end
#
#   def forecast(location:)
#   @location = location
#   end
#   end
# @see ActiveAgent::Base
# @see ActiveAgent::Configuration
# @see https://github.com/quiltt/activeagent ActiveAgent on GitHub
#
# source://activeagent//lib/active_agent/version.rb#1
module ActiveAgent
  extend ::ActiveSupport::Autoload

  class << self
    # Returns the global configuration instance.
    #
    # Creates a new {Configuration} instance if one doesn't exist.
    #
    # @example Access configuration
    #   ActiveAgent.configuration.retries  # => true
    # @return [Configuration] The global configuration instance
    #
    # source://activeagent//lib/active_agent/configuration.rb#382
    def configuration; end

    # Loads and sets the global configuration from a YAML file.
    #
    # Reads configuration from the specified file and sets it as the
    # global configuration instance. This is an alternative to using
    # {.configure} with a block and is the recommended approach for
    # managing provider-specific settings.
    #
    # The YAML file supports ERB templating, environment-specific sections,
    # and YAML anchors for reusing common configuration blocks across providers.
    #
    # @example Accessing loaded provider configuration
    #   ActiveAgent.configuration[:openai]
    #   # => { "service" => "OpenAI", "model" => "gpt-4o-mini", "temperature" => 0.7, ... }
    # @example Basic usage in Rails initializer
    #   # config/initializers/activeagent.rb
    #   ActiveAgent.configuration_load(Rails.root.join("config/activeagent.yml"))
    # @example Complete workflow
    #   # 1. Create config/activeagent.yml with provider settings
    #   # 2. Load in initializer:
    #   ActiveAgent.configuration_load("config/activeagent.yml")
    #
    #   # 3. Use in your agents:
    #   class MyAgent < ActiveAgent::Base
    #   generate_with :openai  # Automatically uses config from YAML
    #   end
    # @note This method is typically called once during application initialization.
    #   Store API keys in Rails credentials rather than directly in the YAML file.
    # @param filename [String] Path to the YAML configuration file
    # @return [Configuration] The loaded configuration instance
    # @see .configure
    # @see Configuration.load
    #
    # source://activeagent//lib/active_agent/configuration.rb#455
    def configuration_load(filename); end

    # Configures ActiveAgent with a block.
    #
    # Yields the global configuration instance to the provided block,
    # allowing settings to be modified. This is the recommended way
    # to configure ActiveAgent.
    #
    # @example Custom logger (non-Rails environments)
    #   ActiveAgent.configure do |config|
    #   config.logger = Logger.new(STDOUT)
    #   config.logger.level = Logger::DEBUG
    #   end
    # @return [Configuration] The modified configuration instance
    # @yield [config] Yields the configuration instance
    # @yieldparam config [Configuration] The configuration to modify
    #
    # source://activeagent//lib/active_agent/configuration.rb#401
    def configure; end

    # source://activeagent//lib/active_agent/deprecator.rb#4
    def deprecator; end

    # Eagerly loads all ActiveAgent components and descendant agent classes.
    #
    # This method is called during Rails initialization in production mode
    # to load all code upfront, improving request performance and catching
    # load-time errors early.
    #
    # @example Manual eager loading
    #   ActiveAgent.eager_load!
    # @note In Rails applications, this is automatically called when
    #   +config.eager_load+ is true (default in production).
    # @return [void]
    #
    # source://activeagent//lib/active_agent.rb#124
    def eager_load!; end

    # Resets the global configuration to default values.
    #
    # Creates a new {Configuration} instance with all defaults restored.
    # Useful for testing or resetting state.
    #
    # @example
    #   ActiveAgent.reset_configuration!
    # @return [Configuration] The new default configuration instance
    #
    # source://activeagent//lib/active_agent/configuration.rb#415
    def reset_configuration!; end
  end
end

# Provides AI-powered agents with prompt generation, tool calling, and conversation management.
#
# @abstract
# @example Basic agent
#   class MyAgent < ActiveAgent::Base
#   generate_with :openai, model: "gpt-4"
#
#   def greet
#   prompt instructions: "Greet the user warmly"
#   end
#   end
#
# source://activeagent//lib/active_agent/base.rb#33
class ActiveAgent::Base < ::AbstractController::Base
  include ::ActionView::ViewPaths
  include ::AbstractController::Rendering
  include ::AbstractController::Logger
  include ::ActiveSupport::Benchmarkable
  include ::AbstractController::Helpers
  include ::AbstractController::Translation
  include ::AbstractController::AssetPaths
  include ::ActiveSupport::Callbacks
  include ::AbstractController::Callbacks
  include ::AbstractController::Caching::Fragments
  include ::AbstractController::Caching::ConfigMethods
  include ::AbstractController::Caching
  include ::ActiveAgent::Callbacks
  include ::ActiveAgent::Parameterized
  include ::ActiveAgent::Provider
  include ::ActiveAgent::Queueing
  include ::ActiveSupport::Rescuable
  include ::ActiveAgent::Rescue
  include ::ActiveAgent::Streaming
  include ::ActiveAgent::Tooling
  include ::ActiveAgent::View
  include ::ActionView::Rendering
  include ::ActionView::Layouts
  include ::ActiveAgent::Observers
  include ::ActiveAgent::Previews
  extend ::ActionView::ViewPaths::ClassMethods
  extend ::AbstractController::Helpers::Resolution
  extend ::AbstractController::Helpers::ClassMethods
  extend ::ActiveSupport::Callbacks::ClassMethods
  extend ::AbstractController::Callbacks::ClassMethods
  extend ::AbstractController::Caching::Fragments::ClassMethods
  extend ::AbstractController::Caching::ClassMethods
  extend ::AbstractController::Caching::ConfigMethods
  extend ::ActiveAgent::Callbacks::ClassMethods
  extend ::ActiveAgent::Parameterized::ClassMethods
  extend ::ActiveAgent::Provider::ClassMethods
  extend ::ActiveSupport::Rescuable::ClassMethods
  extend ::ActiveAgent::Rescue::ClassMethods
  extend ::ActiveAgent::Streaming::ClassMethods
  extend ::ActionView::Rendering::ClassMethods
  extend ::ActionView::Layouts::ClassMethods
  extend ::ActiveAgent::Observers::ClassMethods
  extend ::ActiveAgent::Previews::ClassMethods

  # @api private
  # @return [Base] a new instance of Base
  #
  # source://activeagent//lib/active_agent/base.rb#169
  def initialize; end

  # source://activeagent//lib/active_agent/base.rb#41
  def __callbacks; end

  # source://activeagent//lib/active_agent/base.rb#44
  def _embedding_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#44
  def _generation_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#38
  def _helper_methods; end

  # source://activeagent//lib/active_agent/base.rb#38
  def _helper_methods=(_arg0); end

  # source://activeagent//lib/active_agent/base.rb#38
  def _helper_methods?; end

  # source://activeagent//lib/active_agent/base.rb#51
  def _layout_conditions; end

  # source://activeagent//lib/active_agent/base.rb#51
  def _layout_conditions?; end

  # source://activeagent//lib/active_agent/base.rb#41
  def _process_action_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#44
  def _prompting_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#44
  def _run_embedding_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#44
  def _run_embedding_callbacks!(&block); end

  # source://activeagent//lib/active_agent/base.rb#44
  def _run_generation_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#44
  def _run_generation_callbacks!(&block); end

  # source://activeagent//lib/active_agent/base.rb#41
  def _run_process_action_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#41
  def _run_process_action_callbacks!(&block); end

  # source://activeagent//lib/active_agent/base.rb#44
  def _run_prompting_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#44
  def _run_prompting_callbacks!(&block); end

  # source://activeagent//lib/active_agent/base.rb#49
  def _run_stream_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#49
  def _run_stream_callbacks!(&block); end

  # source://activeagent//lib/active_agent/base.rb#49
  def _run_stream_close_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#49
  def _run_stream_close_callbacks!(&block); end

  # source://activeagent//lib/active_agent/base.rb#49
  def _run_stream_open_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#49
  def _run_stream_open_callbacks!(&block); end

  # source://activeagent//lib/active_agent/base.rb#49
  def _stream_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#49
  def _stream_close_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#49
  def _stream_open_callbacks; end

  # source://activeagent//lib/active_agent/base.rb#42
  def _view_cache_dependencies; end

  # source://activeagent//lib/active_agent/base.rb#42
  def _view_cache_dependencies=(_arg0); end

  # source://activeagent//lib/active_agent/base.rb#42
  def _view_cache_dependencies?; end

  # @api private
  #
  # source://activeagent//lib/active_agent/base.rb#293
  def action_methods; end

  # Agent name used as a path for view lookup.
  #
  # @return [String] agent name or "anonymous" for anonymous agents
  #
  # source://activeagent//lib/active_agent/base.rb#150
  def agent_name; end

  # Agent name override for custom view lookup paths.
  #
  # @return [String]
  #
  # source://activeagent//lib/active_agent/base.rb#155
  def agent_name=(_arg0); end

  # source://activeagent//lib/active_agent/base.rb#40
  def asset_host(*_arg0, **_arg1, &_arg2); end

  # source://activeagent//lib/active_agent/base.rb#40
  def asset_host=(arg); end

  # source://activeagent//lib/active_agent/base.rb#40
  def assets_dir(*_arg0, **_arg1, &_arg2); end

  # source://activeagent//lib/active_agent/base.rb#40
  def assets_dir=(arg); end

  # source://activeagent//lib/active_agent/base.rb#156
  def controller_path(*_arg0, **_arg1, &_arg2); end

  # source://activeagent//lib/active_agent/base.rb#40
  def default_asset_host_protocol(*_arg0, **_arg1, &_arg2); end

  # source://activeagent//lib/active_agent/base.rb#40
  def default_asset_host_protocol=(arg); end

  # source://activeagent//lib/active_agent/base.rb#42
  def default_static_extension(*_arg0, **_arg1, &_arg2); end

  # source://activeagent//lib/active_agent/base.rb#42
  def default_static_extension=(arg); end

  # Merges action-level parameters into embedding context.
  #
  # @example With direct input
  #   embed "Text to embed", model: "text-embedding-3-large"
  # @example With template
  #   embed locals: { text: "Custom text" }
  # @param input [String, Array<String>, nil] text to embed
  # @param options [Hash] parameters to merge into embedding context
  # @return [void]
  #
  # source://activeagent//lib/active_agent/base.rb#233
  def embed(input = T.unsafe(nil), **options); end

  # Action-level embed options merged with agent embed options.
  #
  # @return [Hash]
  #
  # source://activeagent//lib/active_agent/base.rb#68
  def embed_options; end

  # Action-level embed options merged with agent embed options.
  #
  # @return [Hash]
  #
  # source://activeagent//lib/active_agent/base.rb#68
  def embed_options=(_arg0); end

  # source://activeagent//lib/active_agent/base.rb#68
  def embed_options?; end

  # source://activeagent//lib/active_agent/base.rb#46
  def embed_provider_klass(&_arg0); end

  # source://activeagent//lib/active_agent/base.rb#42
  def enable_fragment_cache_logging(*_arg0, **_arg1, &_arg2); end

  # source://activeagent//lib/active_agent/base.rb#42
  def enable_fragment_cache_logging=(arg); end

  # source://activeagent//lib/active_agent/base.rb#42
  def fragment_cache_keys; end

  # source://activeagent//lib/active_agent/base.rb#42
  def fragment_cache_keys=(_arg0); end

  # source://activeagent//lib/active_agent/base.rb#42
  def fragment_cache_keys?; end

  # source://activeagent//lib/active_agent/base.rb#47
  def generate_later_queue_name; end

  # source://activeagent//lib/active_agent/base.rb#47
  def generate_later_queue_name=(_arg0); end

  # source://activeagent//lib/active_agent/base.rb#47
  def generate_later_queue_name?; end

  # source://activeagent//lib/active_agent/base.rb#47
  def generation_job; end

  # source://activeagent//lib/active_agent/base.rb#47
  def generation_job=(_arg0); end

  # source://activeagent//lib/active_agent/base.rb#47
  def generation_job?; end

  # source://activeagent//lib/active_agent/base.rb#40
  def javascripts_dir(*_arg0, **_arg1, &_arg2); end

  # source://activeagent//lib/active_agent/base.rb#40
  def javascripts_dir=(arg); end

  # Logger instance for agent operations.
  #
  # Defaults to Rails.logger when used in Rails applications.
  # Must conform to Log4r or Ruby Logger interface.
  #
  # @return [Logger, nil]
  #
  # source://activeagent//lib/active_agent/base.rb#37
  def logger; end

  # source://activeagent//lib/active_agent/base.rb#37
  def logger=(val); end

  # source://activeagent//lib/active_agent/base.rb#45
  def params; end

  # source://activeagent//lib/active_agent/base.rb#45
  def params=(_arg0); end

  # source://activeagent//lib/active_agent/base.rb#42
  def perform_caching(*_arg0, **_arg1, &_arg2); end

  # source://activeagent//lib/active_agent/base.rb#42
  def perform_caching=(arg); end

  # source://activeagent//lib/active_agent/base.rb#54
  def preview_interceptors; end

  # source://activeagent//lib/active_agent/base.rb#54
  def preview_paths; end

  # Generates a preview of the prompt without executing generation.
  #
  # Useful for debugging and inspecting the final prompt that would be
  # sent to the provider, including rendered templates and merged parameters.
  #
  # @raise [RuntimeError] if no prompt provider is configured
  # @return [String, Hash] preview format depends on provider implementation
  #
  # source://activeagent//lib/active_agent/base.rb#266
  def preview_prompt; end

  # Processes an agent action with ActiveSupport::Notifications instrumentation.
  #
  # Actions are triggered externally via Agent.action_name.generate_now or internally
  # through tool calls during AI generation workflows.
  #
  # @api private
  # @param args [Array]
  # @param kwargs [Hash]
  # @param method_name [Symbol, String] action method to process
  # @return [void]
  #
  # source://activeagent//lib/active_agent/base.rb#192
  def process(method_name, *args, **kwargs); end

  # Executes embedding generation using configured provider and options.
  #
  # Templates are rendered as late as possible to allow local overrides.
  #
  # @raise [RuntimeError] if no embed provider is configured
  # @return [ActiveAgent::Providers::Response]
  #
  # source://activeagent//lib/active_agent/base.rb#280
  def process_embed; end

  # Executes prompt generation using configured provider and options.
  #
  # Triggered by generate_now or generate_later workflows. Templates are
  # rendered as late as possible to allow local overrides.
  #
  # @raise [RuntimeError] if no prompt provider is configured
  # @return [ActiveAgent::Providers::Response]
  #
  # source://activeagent//lib/active_agent/base.rb#245
  def process_prompt; end

  # Executes prompt generation using configured provider and options.
  #
  # Triggered by generate_now or generate_later workflows. Templates are
  # rendered as late as possible to allow local overrides.
  #
  # @raise [RuntimeError] if no prompt provider is configured
  # @return [ActiveAgent::Providers::Response]
  #
  # source://activeagent//lib/active_agent/base.rb#257
  def process_prompt!; end

  # Merges action-level parameters into prompt context.
  #
  # Processing is deferred until execution to allow local overrides.
  #
  # @example
  #   def my_action
  #   prompt "User message", temperature: 0.8, instructions: "Be creative"
  #   end
  # @param messages [Array<String, Hash>] message strings or hashes to add to conversation
  # @param options [Hash] parameters to merge into prompt context
  # @return [void]
  #
  # source://activeagent//lib/active_agent/base.rb#212
  def prompt(*messages, **options); end

  # Action-level prompt options merged with agent prompt options.
  #
  # @return [Hash]
  #
  # source://activeagent//lib/active_agent/base.rb#67
  def prompt_options; end

  # Action-level prompt options merged with agent prompt options.
  #
  # @return [Hash]
  #
  # source://activeagent//lib/active_agent/base.rb#67
  def prompt_options=(_arg0); end

  # source://activeagent//lib/active_agent/base.rb#67
  def prompt_options?; end

  # source://activeagent//lib/active_agent/base.rb#46
  def prompt_provider_klass(&_arg0); end

  # source://activeagent//lib/active_agent/base.rb#41
  def raise_on_missing_callback_actions; end

  # source://activeagent//lib/active_agent/base.rb#41
  def raise_on_missing_callback_actions=(val); end

  # source://activeagent//lib/active_agent/base.rb#40
  def relative_url_root(*_arg0, **_arg1, &_arg2); end

  # source://activeagent//lib/active_agent/base.rb#40
  def relative_url_root=(arg); end

  # source://activeagent//lib/active_agent/base.rb#48
  def rescue_handlers; end

  # source://activeagent//lib/active_agent/base.rb#48
  def rescue_handlers=(_arg0); end

  # source://activeagent//lib/active_agent/base.rb#48
  def rescue_handlers?; end

  # source://activeagent//lib/active_agent/base.rb#54
  def show_previews; end

  # source://activeagent//lib/active_agent/base.rb#49
  def stream_chunk; end

  # source://activeagent//lib/active_agent/base.rb#49
  def stream_chunk=(_arg0); end

  # source://activeagent//lib/active_agent/base.rb#40
  def stylesheets_dir(*_arg0, **_arg1, &_arg2); end

  # source://activeagent//lib/active_agent/base.rb#40
  def stylesheets_dir=(arg); end

  private

  # source://activeagent//lib/active_agent/base.rb#51
  def _layout(lookup_context, formats, keys); end

  # @api private
  #
  # source://activeagent//lib/active_agent/base.rb#390
  def _protected_ivars; end

  # @api private
  #
  # source://activeagent//lib/active_agent/base.rb#385
  def instrument_name; end

  # @api private
  #
  # source://activeagent//lib/active_agent/base.rb#377
  def instrument_payload(key); end

  # @api private
  #
  # source://activeagent//lib/active_agent/base.rb#321
  def prepare_embed_parameters; end

  # @api private
  #
  # source://activeagent//lib/active_agent/base.rb#300
  def prepare_prompt_parameters; end

  # @api private
  #
  # source://activeagent//lib/active_agent/base.rb#344
  def process_prompt_templates(parameters, prompt_options); end

  # @api private
  #
  # source://activeagent//lib/active_agent/base.rb#363
  def process_prompt_templates_response_format(response_format); end

  class << self
    # source://activeagent//lib/active_agent/base.rb#41
    def __callbacks; end

    # source://activeagent//lib/active_agent/base.rb#41
    def __callbacks=(value); end

    # source://activeagent//lib/active_agent/base.rb#46
    def _embed_provider_klass; end

    # source://activeagent//lib/active_agent/base.rb#46
    def _embed_provider_klass=(value); end

    # source://activeagent//lib/active_agent/base.rb#44
    def _embedding_callbacks; end

    # source://activeagent//lib/active_agent/base.rb#44
    def _embedding_callbacks=(value); end

    # source://activeagent//lib/active_agent/base.rb#44
    def _generation_callbacks; end

    # source://activeagent//lib/active_agent/base.rb#44
    def _generation_callbacks=(value); end

    # source://activeagent//lib/active_agent/base.rb#38
    def _helper_methods; end

    # source://activeagent//lib/active_agent/base.rb#38
    def _helper_methods=(value); end

    # source://activeagent//lib/active_agent/base.rb#38
    def _helper_methods?; end

    # source://activeagent//lib/active_agent/base.rb#38
    def _helpers; end

    # source://activeagent//lib/active_agent/base.rb#51
    def _layout; end

    # source://activeagent//lib/active_agent/base.rb#51
    def _layout=(value); end

    # source://activeagent//lib/active_agent/base.rb#51
    def _layout?; end

    # source://activeagent//lib/active_agent/base.rb#51
    def _layout_conditions; end

    # source://activeagent//lib/active_agent/base.rb#51
    def _layout_conditions=(value); end

    # source://activeagent//lib/active_agent/base.rb#51
    def _layout_conditions?; end

    # source://activeagent//lib/active_agent/base.rb#41
    def _process_action_callbacks; end

    # source://activeagent//lib/active_agent/base.rb#41
    def _process_action_callbacks=(value); end

    # source://activeagent//lib/active_agent/base.rb#46
    def _prompt_provider_klass; end

    # source://activeagent//lib/active_agent/base.rb#46
    def _prompt_provider_klass=(value); end

    # source://activeagent//lib/active_agent/base.rb#44
    def _prompting_callbacks; end

    # source://activeagent//lib/active_agent/base.rb#44
    def _prompting_callbacks=(value); end

    # source://activeagent//lib/active_agent/base.rb#49
    def _stream_callbacks; end

    # source://activeagent//lib/active_agent/base.rb#49
    def _stream_callbacks=(value); end

    # source://activeagent//lib/active_agent/base.rb#49
    def _stream_close_callbacks; end

    # source://activeagent//lib/active_agent/base.rb#49
    def _stream_close_callbacks=(value); end

    # source://activeagent//lib/active_agent/base.rb#49
    def _stream_open_callbacks; end

    # source://activeagent//lib/active_agent/base.rb#49
    def _stream_open_callbacks=(value); end

    # source://activeagent//lib/active_agent/base.rb#42
    def _view_cache_dependencies; end

    # source://activeagent//lib/active_agent/base.rb#42
    def _view_cache_dependencies=(value); end

    # source://activeagent//lib/active_agent/base.rb#42
    def _view_cache_dependencies?; end

    # source://activeagent//lib/active_agent/base.rb#40
    def asset_host(*_arg0, **_arg1, &_arg2); end

    # source://activeagent//lib/active_agent/base.rb#40
    def asset_host=(arg); end

    # source://activeagent//lib/active_agent/base.rb#40
    def assets_dir(*_arg0, **_arg1, &_arg2); end

    # source://activeagent//lib/active_agent/base.rb#40
    def assets_dir=(arg); end

    # Sets default parameters applied to all actions unless overridden.
    #
    # @example
    #   default temperature: 0.7, max_tokens: 1000
    # @param value [Hash, nil] parameters to merge, or nil to return current defaults
    # @return [Hash]
    #
    # source://activeagent//lib/active_agent/base.rb#85
    def default(value = T.unsafe(nil)); end

    # source://activeagent//lib/active_agent/base.rb#40
    def default_asset_host_protocol(*_arg0, **_arg1, &_arg2); end

    # source://activeagent//lib/active_agent/base.rb#40
    def default_asset_host_protocol=(arg); end

    # source://activeagent//lib/active_agent/base.rb#71
    def default_params; end

    # Sets default parameters applied to all actions unless overridden.
    #
    # @example
    #   default temperature: 0.7, max_tokens: 1000
    # @param value [Hash, nil] parameters to merge, or nil to return current defaults
    # @return [Hash]
    #
    # source://activeagent//lib/active_agent/base.rb#71
    def default_params=(value = T.unsafe(nil)); end

    # source://activeagent//lib/active_agent/base.rb#71
    def default_params?; end

    # source://activeagent//lib/active_agent/base.rb#42
    def default_static_extension(*_arg0, **_arg1, &_arg2); end

    # source://activeagent//lib/active_agent/base.rb#42
    def default_static_extension=(arg); end

    # source://activeagent//lib/active_agent/base.rb#68
    def embed_options; end

    # source://activeagent//lib/active_agent/base.rb#68
    def embed_options=(value); end

    # source://activeagent//lib/active_agent/base.rb#68
    def embed_options?; end

    # Configures embedding provider and options for embedding generation.
    #
    # @example
    #   embed_with :openai, model: "text-embedding-3-large"
    # @param agent_options [Hash] configuration options for embedding generation
    # @param provider_reference [Symbol, String] embedding provider (:openai, :anthropic, etc.)
    # @return [void]
    #
    # source://activeagent//lib/active_agent/base.rb#125
    def embed_with(provider_reference, **agent_options); end

    # source://activeagent//lib/active_agent/base.rb#42
    def enable_fragment_cache_logging(*_arg0, **_arg1, &_arg2); end

    # source://activeagent//lib/active_agent/base.rb#42
    def enable_fragment_cache_logging=(arg); end

    # source://activeagent//lib/active_agent/base.rb#42
    def fragment_cache_keys; end

    # source://activeagent//lib/active_agent/base.rb#42
    def fragment_cache_keys=(value); end

    # source://activeagent//lib/active_agent/base.rb#42
    def fragment_cache_keys?; end

    # source://activeagent//lib/active_agent/base.rb#47
    def generate_later_queue_name; end

    # source://activeagent//lib/active_agent/base.rb#47
    def generate_later_queue_name=(value); end

    # source://activeagent//lib/active_agent/base.rb#47
    def generate_later_queue_name?; end

    # Configures generation provider and options for prompt generation.
    #
    # Options are merged with global provider config and inherited parent class options.
    # Instructions are never inherited from parent classes.
    #
    # @example
    #   generate_with :openai, model: "gpt-4", temperature: 0.7
    # @param agent_options [Hash] configuration options shared across actions
    # @param provider_reference [Symbol, String] generation provider (:openai, :anthropic, etc.)
    # @return [void]
    #
    # source://activeagent//lib/active_agent/base.rb#103
    def generate_with(provider_reference, **agent_options); end

    # source://activeagent//lib/active_agent/base.rb#47
    def generation_job; end

    # source://activeagent//lib/active_agent/base.rb#47
    def generation_job=(value); end

    # source://activeagent//lib/active_agent/base.rb#47
    def generation_job?; end

    # source://activeagent//lib/active_agent/base.rb#40
    def javascripts_dir(*_arg0, **_arg1, &_arg2); end

    # source://activeagent//lib/active_agent/base.rb#40
    def javascripts_dir=(arg); end

    # source://activeagent//lib/active_agent/base.rb#37
    def logger; end

    # source://activeagent//lib/active_agent/base.rb#37
    def logger=(val); end

    # source://activeagent//lib/active_agent/base.rb#42
    def perform_caching(*_arg0, **_arg1, &_arg2); end

    # source://activeagent//lib/active_agent/base.rb#42
    def perform_caching=(arg); end

    # source://activeagent//lib/active_agent/base.rb#54
    def preview_interceptors; end

    # source://activeagent//lib/active_agent/base.rb#54
    def preview_interceptors=(val); end

    # source://activeagent//lib/active_agent/base.rb#54
    def preview_paths; end

    # source://activeagent//lib/active_agent/base.rb#54
    def preview_paths=(val); end

    # source://activeagent//lib/active_agent/base.rb#67
    def prompt_options; end

    # source://activeagent//lib/active_agent/base.rb#67
    def prompt_options=(value); end

    # source://activeagent//lib/active_agent/base.rb#67
    def prompt_options?; end

    # source://activeagent//lib/active_agent/base.rb#41
    def raise_on_missing_callback_actions; end

    # source://activeagent//lib/active_agent/base.rb#41
    def raise_on_missing_callback_actions=(val); end

    # source://activeagent//lib/active_agent/base.rb#40
    def relative_url_root(*_arg0, **_arg1, &_arg2); end

    # source://activeagent//lib/active_agent/base.rb#40
    def relative_url_root=(arg); end

    # source://activeagent//lib/active_agent/base.rb#48
    def rescue_handlers; end

    # source://activeagent//lib/active_agent/base.rb#48
    def rescue_handlers=(value); end

    # source://activeagent//lib/active_agent/base.rb#48
    def rescue_handlers?; end

    # source://activeagent//lib/active_agent/base.rb#54
    def show_previews; end

    # source://activeagent//lib/active_agent/base.rb#54
    def show_previews=(val); end

    # source://activeagent//lib/active_agent/base.rb#40
    def stylesheets_dir(*_arg0, **_arg1, &_arg2); end

    # source://activeagent//lib/active_agent/base.rb#40
    def stylesheets_dir=(arg); end

    private

    # source://activeagent//lib/active_agent/base.rb#41
    def __class_attr___callbacks; end

    # source://activeagent//lib/active_agent/base.rb#41
    def __class_attr___callbacks=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#46
    def __class_attr__embed_provider_klass; end

    # source://activeagent//lib/active_agent/base.rb#46
    def __class_attr__embed_provider_klass=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#38
    def __class_attr__helper_methods; end

    # source://activeagent//lib/active_agent/base.rb#38
    def __class_attr__helper_methods=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#51
    def __class_attr__layout; end

    # source://activeagent//lib/active_agent/base.rb#51
    def __class_attr__layout=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#51
    def __class_attr__layout_conditions; end

    # source://activeagent//lib/active_agent/base.rb#51
    def __class_attr__layout_conditions=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#46
    def __class_attr__prompt_provider_klass; end

    # source://activeagent//lib/active_agent/base.rb#46
    def __class_attr__prompt_provider_klass=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#42
    def __class_attr__view_cache_dependencies; end

    # source://activeagent//lib/active_agent/base.rb#42
    def __class_attr__view_cache_dependencies=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#33
    def __class_attr_config; end

    # source://activeagent//lib/active_agent/base.rb#33
    def __class_attr_config=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#71
    def __class_attr_default_params; end

    # source://activeagent//lib/active_agent/base.rb#68
    def __class_attr_embed_options; end

    # source://activeagent//lib/active_agent/base.rb#68
    def __class_attr_embed_options=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#42
    def __class_attr_fragment_cache_keys; end

    # source://activeagent//lib/active_agent/base.rb#42
    def __class_attr_fragment_cache_keys=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#47
    def __class_attr_generate_later_queue_name; end

    # source://activeagent//lib/active_agent/base.rb#47
    def __class_attr_generate_later_queue_name=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#47
    def __class_attr_generation_job; end

    # source://activeagent//lib/active_agent/base.rb#47
    def __class_attr_generation_job=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#67
    def __class_attr_prompt_options; end

    # source://activeagent//lib/active_agent/base.rb#67
    def __class_attr_prompt_options=(new_value); end

    # source://activeagent//lib/active_agent/base.rb#48
    def __class_attr_rescue_handlers; end

    # source://activeagent//lib/active_agent/base.rb#48
    def __class_attr_rescue_handlers=(new_value); end

    # @api private
    #
    # source://activeagent//lib/active_agent/base.rb#135
    def method_missing(method_name, *_arg1, **_arg2, &_arg3); end

    # @api private
    # @return [Boolean]
    #
    # source://activeagent//lib/active_agent/base.rb#145
    def respond_to_missing?(method, include_all = T.unsafe(nil)); end
  end
end

# source://activeagent//lib/active_agent/base.rb#57
ActiveAgent::Base::PROTECTED_IVARS = T.let(T.unsafe(nil), Array)

# source://activeagent//lib/active_agent/base.rb#56
ActiveAgent::Base::PROTECTED_OPTIONS = T.let(T.unsafe(nil), Array)

# Provides callback hooks for generation, prompting, and embedding lifecycles.
#
# Enables agents to execute custom logic before, after, or around AI operations.
# Callbacks support conditional execution via `:if` and `:unless` options, and
# after callbacks are skipped when the chain is terminated with `throw :abort`.
#
# == Callback Types
#
# Each lifecycle supports three timing hooks:
# * +before_*+ - executes before the operation
# * +after_*+ - executes after the operation (skipped if aborted)
# * +around_*+ - wraps the operation (must call +yield+)
#
# == Lifecycle Hierarchies
#
# * +generation+ - wraps both prompting and embedding operations
# * +prompting+ - specific to prompt execution
# * +embedding+ - specific to embedding operations
#
# Use +*_generation+ callbacks for cross-cutting concerns like rate limiting,
# authentication, and logging that apply to all AI operations.
#
# == Callback Control
#
# * +prepend_*+ - inserts callback at the beginning of the chain
# * +append_*+ - adds callback at the end (same as base methods)
# * +skip_*+ - removes a previously defined callback
#
# @example After prompting with condition
#   class MyAgent < ActiveAgent::Base
#   after_prompt :log_response, if: :production?
#
#   def log_response
#   Logger.info("Generated response: #{context.messages.last}")
#   end
#   end
# @example Around embedding for timing
#   class MyAgent < ActiveAgent::Base
#   around_embed :measure_time
#
#   def measure_time
#   start = Time.now
#   yield
#   Rails.logger.info("Embedding took #{Time.now - start}s")
#   end
#   end
# @example Before prompting callback
#   class MyAgent < ActiveAgent::Base
#   before_prompt :load_context
#
#   def load_context
#   @user_data = User.find(params[:user_id])
#   end
#   end
# @example Prepending and skipping callbacks
#   class MyAgent < ActiveAgent::Base
#   prepend_before_prompt :urgent_check  # Runs first
#   before_prompt :normal_check          # Runs second
#
#   skip_after_prompt :log_response      # Removes inherited callback
#   end
# @example Rate limiting with generation callbacks
#   class MyAgent < ActiveAgent::Base
#   before_generation :check_rate_limit
#   after_generation :record_usage
#
#   def check_rate_limit
#   raise RateLimitExceeded if RateLimiter.exceeded?(user_id)
#   end
#
#   def record_usage
#   RateLimiter.increment(user_id)
#   end
#   end
#
# source://activeagent//lib/active_agent/concerns/callbacks.rb#84
module ActiveAgent::Callbacks
  extend ::ActiveSupport::Concern
  include GeneratedInstanceMethods
  include ::ActiveSupport::Callbacks

  mixes_in_class_methods GeneratedClassMethods
  mixes_in_class_methods ::ActiveAgent::Callbacks::ClassMethods
  mixes_in_class_methods ::ActiveSupport::Callbacks::ClassMethods
  mixes_in_class_methods ::ActiveSupport::DescendantsTracker

  module GeneratedClassMethods
    def __callbacks; end
    def __callbacks=(value); end
  end

  module GeneratedInstanceMethods
    def __callbacks; end
  end
end

# source://activeagent//lib/active_agent/concerns/callbacks.rb#94
module ActiveAgent::Callbacks::ClassMethods
  # source://activeagent//lib/active_agent/concerns/callbacks.rb#215
  def after_embed(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#169
  def after_generation(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#113
  def after_prompt(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#247
  def append_after_embed(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#201
  def append_after_generation(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#150
  def append_after_prompt(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#247
  def append_around_embed(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#201
  def append_around_generation(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#150
  def append_around_prompt(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#247
  def append_before_embed(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#201
  def append_before_generation(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#150
  def append_before_prompt(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#215
  def around_embed(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#169
  def around_generation(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#113
  def around_prompt(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#215
  def before_embed(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#169
  def before_generation(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#113
  def before_prompt(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#228
  def prepend_after_embed(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#182
  def prepend_after_generation(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#128
  def prepend_after_prompt(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#228
  def prepend_around_embed(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#182
  def prepend_around_generation(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#128
  def prepend_around_prompt(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#228
  def prepend_before_embed(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#182
  def prepend_before_generation(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#128
  def prepend_before_prompt(*names, &blk); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#240
  def skip_after_embed(*names); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#194
  def skip_after_generation(*names); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#143
  def skip_after_prompt(*names); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#240
  def skip_around_embed(*names); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#194
  def skip_around_generation(*names); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#143
  def skip_around_prompt(*names); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#240
  def skip_before_embed(*names); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#194
  def skip_before_generation(*names); end

  # source://activeagent//lib/active_agent/concerns/callbacks.rb#143
  def skip_before_prompt(*names); end
end

# source://activeagent//lib/active_agent/collector.rb#8
class ActiveAgent::Collector
  include ::AbstractController::Collector

  # @return [Collector] a new instance of Collector
  #
  # source://activeagent//lib/active_agent/collector.rb#12
  def initialize(context, &block); end

  # @raise [ArgumentError]
  #
  # source://activeagent//lib/active_agent/collector.rb#23
  def all(*args, &block); end

  # @raise [ArgumentError]
  #
  # source://activeagent//lib/active_agent/collector.rb#18
  def any(*args, &block); end

  # source://activeagent//lib/active_agent/collector.rb#25
  def custom(mime, options = T.unsafe(nil)); end

  # Returns the value of attribute responses.
  #
  # source://activeagent//lib/active_agent/collector.rb#10
  def responses; end
end

# Configuration class for ActiveAgent global settings.
#
# Provides configuration options for generation behavior, error handling,
# and logging. Configuration can be set globally using the
# {ActiveAgent.configure} method or loaded from a YAML file for
# provider-specific settings.
#
# = Global Configuration
#
# Use {ActiveAgent.configure} for framework-level settings like logging.
#
# = Provider Configuration
#
# Use YAML configuration files to define provider-specific settings like
# API keys, models, and parameters. This is the recommended approach for
# managing multiple generation providers across different environments.
#
# @example Basic configuration
#   ActiveAgent.configure do |config|
#   config.logger = Logger.new(STDOUT)
#   end
# @example Loading provider configuration
#   # In config/initializers/activeagent.rb
#   ActiveAgent.configuration_load(Rails.root.join("config/activeagent.yml"))
# @example Using configured providers in agents
#   class MyAgent < ActiveAgent::Base
#   generate_with :openai  # Uses settings from config/activeagent.yml
#   end
# @example YAML configuration file (config/activeagent.yml)
#   # Define reusable anchors for common settings
#   openai: &openai
#   service: "OpenAI"
#   access_token: <%= Rails.application.credentials.dig(:openai, :access_token) %>
#
#   anthropic: &anthropic
#   service: "Anthropic"
#   access_token: <%= Rails.application.credentials.dig(:anthropic, :access_token) %>
#
#   development:
#   openai:
#   <<: *openai
#   model: "gpt-4o-mini"
#   temperature: 0.7
#   anthropic:
#   <<: *anthropic
#   model: "claude-3-5-sonnet-20241022"
#
#   production:
#   openai:
#   <<: *openai
#   model: "gpt-4o"
#   temperature: 0.5
# @see ActiveAgent.configuration_load
# @see ActiveAgent.configure
#
# source://activeagent//lib/active_agent/configuration.rb#69
class ActiveAgent::Configuration
  # Initializes a new Configuration instance with default values.
  #
  # Sets all configuration attributes to their default values as defined
  # in {DEFAULTS}. Duplicates values where possible to prevent shared state.
  # Custom settings can be passed to override defaults.
  #
  # When loading from a YAML file via {Configuration.load}, all settings from
  # the environment-specific section are passed as the settings hash, including
  # Initializes a new Configuration instance with optional settings.
  #
  # Settings typically come from a YAML configuration file loaded via {.load}.
  # The configuration object stores provider-specific settings as nested hashes.
  #
  # @example With default settings
  #   config = ActiveAgent::Configuration.new
  # @example With provider configurations (typically from YAML)
  #   config = ActiveAgent::Configuration.new(
  #   openai: { service: "OpenAI", model: "gpt-4o" },
  #   anthropic: { service: "Anthropic", model: "claude-3-5-sonnet-20241022" }
  #   )
  # @param settings [Hash] Optional settings to load
  # @return [Configuration] a new instance of Configuration
  #
  # source://activeagent//lib/active_agent/configuration.rb#195
  def initialize(settings = T.unsafe(nil)); end

  # Retrieves a configuration value by key.
  #
  # This method provides hash-like access to provider configurations.
  # Provider configurations are stored as nested hashes.
  #
  # @example Accessing provider configurations
  #   config[:openai]     # => { "service" => "OpenAI", "model" => "gpt-4o", ... }
  #   config[:anthropic]  # => { "service" => "Anthropic", "model" => "claude-3-5-sonnet-20241022", ... }
  # @param key [String, Symbol] Configuration key to retrieve
  # @return [Object, nil] The configuration value or nil if not found
  #
  # source://activeagent//lib/active_agent/configuration.rb#212
  def [](key); end

  # Sets a configuration value by key.
  #
  # @example
  #   config[:retries] = false
  #   config["retries_count"] = 5
  # @param key [String, Symbol] Configuration key to set
  # @param value [Object] Value to set
  # @return [Object] The value that was set
  #
  # source://activeagent//lib/active_agent/configuration.rb#225
  def []=(key, value); end

  # Creates a deep duplicate of the configuration.
  #
  # Recursively duplicates all configuration values to avoid shared state.
  #
  # @example
  #   original = ActiveAgent.configuration
  #   backup = original.deep_dup
  #   backup[:openai] = { service: "OpenAI" }  # doesn't affect original
  # @return [Configuration] A new Configuration instance with duplicated values
  #
  # source://activeagent//lib/active_agent/configuration.rb#266
  def deep_dup; end

  # Extracts nested values using a sequence of keys.
  #
  # Similar to Hash#dig, traverses nested configuration values safely.
  # Returns nil if any intermediate key doesn't exist.
  #
  # @example
  #   config.dig(:openai, :model)  # => "gpt-4o"
  #   config.dig("test", "anthropic", "service")  # => "Anthropic"
  #   config.dig(:nonexistent, :key)  # => nil
  # @param keys [Array<String, Symbol>] Keys to traverse
  # @return [Object, nil] The nested value or nil
  #
  # source://activeagent//lib/active_agent/configuration.rb#241
  def dig(*keys); end

  # Gets the logger used by ActiveAgent.
  #
  # @return [Logger] The logger instance
  # @see ActiveAgent::Base.logger
  #
  # source://activeagent//lib/active_agent/configuration.rb#79
  def logger; end

  # Sets the logger used by ActiveAgent.
  #
  # @example
  #   config.logger = Logger.new(STDOUT)
  #   config.logger.level = Logger::DEBUG
  # @param value [Logger] The logger instance to use
  # @return [Logger] The logger that was set
  # @see ActiveAgent::Base.logger=
  #
  # source://activeagent//lib/active_agent/configuration.rb#93
  def logger=(value); end

  # Delegates method calls to the [] operator for accessing configuration values.
  #
  # Allows accessing configuration values using method syntax instead of
  # hash-like access. Returns nil for undefined configuration keys.
  #
  # @example
  #   config.retries        # => true (same as config[:retries])
  #   config.retries_count  # => 3 (same as config[:retries_count])
  # @param args [Array] Method arguments (not used)
  # @param method [Symbol] The method name (configuration key)
  # @private
  # @return [Object, nil] The configuration value or nil
  #
  # source://activeagent//lib/active_agent/configuration.rb#315
  def method_missing(method, *args); end

  # Replaces the current configuration values with those from another configuration.
  #
  # Copies all instance variables from the source configuration to this one,
  # and removes any instance variables that exist in self but not in other.
  # Useful for restoring configuration state in tests.
  #
  # @example
  #   backup = config.deep_dup
  #   # ... make changes ...
  #   config.replace(backup)  # restore original state
  # @param other [Configuration] The configuration to copy from
  # @return [Configuration] Self
  #
  # source://activeagent//lib/active_agent/configuration.rb#288
  def replace(other); end

  private

  # Recursively converts hashes to HashWithIndifferentAccess.
  #
  # This ensures that all hash values (including nested hashes) can be
  # accessed using both string and symbol keys. Non-hash values are
  # returned unchanged.
  #
  # @param value [Object] The value to convert
  # @private
  # @return [Object] The converted value
  #
  # source://activeagent//lib/active_agent/configuration.rb#343
  def convert_to_indifferent_access(value); end

  # Recursively duplicates a value.
  #
  # Creates deep copies of hashes and arrays to avoid shared state.
  # Uses dup for duplicable objects, returns non-duplicable objects as-is.
  #
  # @param value [Object] The value to duplicate
  # @private
  # @return [Object] The duplicated value
  #
  # source://activeagent//lib/active_agent/configuration.rb#362
  def deep_dup_value(value); end

  # Checks if the configuration responds to a method.
  #
  # Returns true if an instance variable exists for the given method name,
  # allowing proper introspection of dynamically accessible configuration keys.
  #
  # @param include_private [Boolean] Whether to include private methods
  # @param method [Symbol] The method name to check
  # @private
  # @return [Boolean] True if the configuration has the key
  #
  # source://activeagent//lib/active_agent/configuration.rb#328
  def respond_to_missing?(method, include_private = T.unsafe(nil)); end

  class << self
    # Loads configuration from a YAML file.
    #
    # Reads a YAML configuration file, evaluates any ERB templates, and extracts
    # environment-specific settings based on RAILS_ENV or ENV environment variables.
    # Falls back to the root level settings if no environment key is found.
    #
    # The YAML file contains provider-specific configurations (API keys, models,
    # parameters, retry settings). Provider configurations are stored as nested hashes
    # and can be accessed via the [] operator.
    #
    # @example Loading and accessing provider configuration
    #   config = ActiveAgent::Configuration.load("config/activeagent.yml")
    #   config[:openai]  # => { "service" => "OpenAI", "model" => "gpt-4o-mini", ... }
    # @example Provider-specific configuration with YAML anchors
    #   # config/activeagent.yml
    #   openai: &openai
    #   service: "OpenAI"
    #   access_token: <%= Rails.application.credentials.dig(:openai, :access_token) %>
    #   max_retries: 3
    #
    #   anthropic: &anthropic
    #   service: "Anthropic"
    #   access_token: <%= Rails.application.credentials.dig(:anthropic, :access_token) %>
    #   max_retries: 5
    #
    #   open_router: &open_router
    #   service: "OpenRouter"
    #   access_token: <%= Rails.application.credentials.dig(:open_router, :access_token) %>
    #
    #   development:
    #   openai:
    #   <<: *openai
    #   model: "gpt-4o-mini"
    #   temperature: 0.7
    #   anthropic:
    #   <<: *anthropic
    #   model: "claude-3-5-sonnet-20241022"
    #   open_router:
    #   <<: *open_router
    #   model: "qwen/qwen3-30b-a3b:free"
    #
    #   test:
    #   openai:
    #   <<: *openai
    #   model: "gpt-4o-mini"
    #   anthropic:
    #   <<: *anthropic
    #
    #   production:
    #   openai:
    #   <<: *openai
    #   model: "gpt-4o"
    #   temperature: 0.5
    #   anthropic:
    #   <<: *anthropic
    #   model: "claude-3-5-sonnet-20241022"
    # @note ERB templates are evaluated, allowing you to use Rails credentials,
    #   environment variables, or any Ruby code within <%= %> tags.
    # @param filename [String] Path to the YAML configuration file
    # @return [Configuration] A new Configuration instance with loaded settings
    #
    # source://activeagent//lib/active_agent/configuration.rb#160
    def load(filename); end
  end
end

# Default configuration values.
#
# @return [Hash] Hash of default configuration values
#
# source://activeagent//lib/active_agent/configuration.rb#73
ActiveAgent::Configuration::DEFAULTS = T.let(T.unsafe(nil), Hash)

# Deferred agent action ready for synchronous or asynchronous execution.
#
# Returned when calling agent actions. Provides methods to execute immediately
# or queue for background processing, plus access to prompt properties before execution.
#
# @example Accessing prompt properties before generation
#   generation = MyAgent.prompt(message: "Hello")
#   generation.message.content  # => "Hello"
#   generation.messages         # => [...]
# @example Asynchronous generation
#   MyAgent.with(message: "Hello").greet.prompt_later(queue: :prompts)
# @example Synchronous generation
#   generation = MyAgent.with(message: "Hello").greet
#   response = generation.prompt_now
#
# source://activeagent//lib/active_agent/generation.rb#22
class ActiveAgent::Generation
  # @param action_name [Symbol]
  # @param agent_class [Class]
  # @param args [Array]
  # @param kwargs [Hash]
  # @return [Generation] a new instance of Generation
  #
  # source://activeagent//lib/active_agent/generation.rb#29
  def initialize(agent_class, action_name, *args, **kwargs); end

  # source://activeagent//lib/active_agent/generation.rb#23
  def action_name; end

  # source://activeagent//lib/active_agent/generation.rb#23
  def action_name=(_arg0); end

  # @return [Array]
  #
  # source://activeagent//lib/active_agent/generation.rb#76
  def actions; end

  # source://activeagent//lib/active_agent/generation.rb#23
  def agent_class; end

  # source://activeagent//lib/active_agent/generation.rb#23
  def agent_class=(_arg0); end

  # source://activeagent//lib/active_agent/generation.rb#23
  def args; end

  # source://activeagent//lib/active_agent/generation.rb#23
  def args=(_arg0); end

  # Queues embedding generation for background execution.
  #
  # @param options [Hash] job options (queue, priority, wait, etc.)
  # @raise [RuntimeError] if agent was accessed before queueing
  # @return [Object] enqueued job instance
  #
  # source://activeagent//lib/active_agent/generation.rb#129
  def embed_later(options = T.unsafe(nil)); end

  # Executes embedding generation synchronously.
  #
  # @return [ActiveAgent::Providers::Response] embedding response with vector data
  #
  # source://activeagent//lib/active_agent/generation.rb#120
  def embed_now; end

  # Queues for background execution.
  #
  # @param options [Hash] job options (queue, priority, wait, etc.)
  # @raise [RuntimeError] if agent was accessed before queueing
  # @return [Object] enqueued job instance
  #
  # source://activeagent//lib/active_agent/generation.rb#104
  def generate_later(options = T.unsafe(nil)); end

  # Executes prompt generation synchronously.
  #
  # @return [ActiveAgent::Providers::Response]
  #
  # source://activeagent//lib/active_agent/generation.rb#94
  def generate_now; end

  # Executes prompt generation synchronously with immediate processing.
  #
  # @return [ActiveAgent::Providers::Response]
  #
  # source://activeagent//lib/active_agent/generation.rb#86
  def generate_now!; end

  # source://activeagent//lib/active_agent/generation.rb#53
  def instructions; end

  # source://activeagent//lib/active_agent/generation.rb#23
  def kwargs; end

  # source://activeagent//lib/active_agent/generation.rb#23
  def kwargs=(_arg0); end

  # Returns the last message with consistent `.content` access.
  #
  # Wraps various message formats (String, Hash, objects) using the common
  # MessageType for uniform access patterns.
  #
  # @return [ActiveAgent::Providers::Common::Messages::Base, nil]
  #
  # source://activeagent//lib/active_agent/generation.rb#68
  def message; end

  # @return [Array]
  #
  # source://activeagent//lib/active_agent/generation.rb#58
  def messages; end

  # @return [Hash] configuration options excluding messages and actions
  #
  # source://activeagent//lib/active_agent/generation.rb#49
  def options; end

  # Generates a preview of the prompt without executing generation.
  #
  # Processes the agent action and renders the prompt configuration as
  # markdown for debugging and inspection.
  #
  # @return [String] markdown-formatted preview
  #
  # source://activeagent//lib/active_agent/generation.rb#115
  def preview_prompt; end

  # @return [Boolean]
  #
  # source://activeagent//lib/active_agent/generation.rb#34
  def processed?; end

  # Queues for background execution.
  #
  # @param options [Hash] job options (queue, priority, wait, etc.)
  # @raise [RuntimeError] if agent was accessed before queueing
  # @return [Object] enqueued job instance
  #
  # source://activeagent//lib/active_agent/generation.rb#101
  def prompt_later(options = T.unsafe(nil)); end

  # Executes prompt generation synchronously.
  #
  # @return [ActiveAgent::Providers::Response]
  #
  # source://activeagent//lib/active_agent/generation.rb#91
  def prompt_now; end

  # Executes prompt generation synchronously with immediate processing.
  #
  # @return [ActiveAgent::Providers::Response]
  #
  # source://activeagent//lib/active_agent/generation.rb#83
  def prompt_now!; end

  # Accesses prompt options by processing the agent if needed.
  #
  # Lazily processes the agent on first access, allowing inspection of
  # prompt properties before executing generation.
  #
  # @return [Hash] with :messages, :actions, and configuration keys
  #
  # source://activeagent//lib/active_agent/generation.rb#44
  def prompt_options; end

  # Generates a preview of the prompt without executing generation.
  #
  # Processes the agent action and renders the prompt configuration as
  # markdown for debugging and inspection.
  #
  # @return [String] markdown-formatted preview
  #
  # source://activeagent//lib/active_agent/generation.rb#112
  def prompt_preview; end

  private

  # Lazily instantiates and processes the agent instance.
  #
  # Cached after first call.
  #
  # @api private
  # @return [ActiveAgent::Base]
  #
  # source://activeagent//lib/active_agent/generation.rb#141
  def agent; end

  # Enqueues for background processing.
  #
  # Prevents enqueuing if the agent has been accessed, as local changes
  # would be lost. Only method arguments are passed to the job, not the
  # agent instance state.
  #
  # @api private
  # @param generation_method [Symbol, String]
  # @param options [Hash]
  # @raise [RuntimeError] when agent already processed to prevent data loss
  # @return [Object] enqueued job
  #
  # source://activeagent//lib/active_agent/generation.rb#159
  def enqueue_generation(generation_method, options = T.unsafe(nil)); end

  # Lazy-loaded message type instance for casting messages.
  #
  # @api private
  # @return [ActiveAgent::Providers::Common::Messages::Types::MessageType]
  #
  # source://activeagent//lib/active_agent/generation.rb#180
  def message_type; end
end

# = Active Agent \GenerationJob
#
# The +ActiveAgent::GenerationJob+ class is used when you
# want to generate content outside of the request-response cycle. It supports
# sending messages with parameters.
#
# Exceptions are rescued and handled by the agent class.
#
# source://activeagent//lib/active_agent/generation_job.rb#13
class ActiveAgent::GenerationJob < ::ActiveJob::Base
  # source://activeagent//lib/active_agent/generation_job.rb#21
  def perform(agent, agent_method, generation_method, args:, kwargs: T.unsafe(nil), params: T.unsafe(nil)); end

  private

  # "Deserialize" the agent class name by hand in case another argument
  # (like a Global ID reference) raised DeserializationError.
  #
  # source://activeagent//lib/active_agent/generation_job.rb#35
  def agent_class; end

  # source://activeagent//lib/active_agent/generation_job.rb#41
  def handle_exception_with_agent_class(exception); end

  class << self
    private

    # source://activeagent//lib/active_agent/generation_job.rb#14
    def __class_attr_queue_name; end

    # source://activeagent//lib/active_agent/generation_job.rb#14
    def __class_attr_queue_name=(new_value); end

    # source://activeagent//lib/active_agent/generation_job.rb#19
    def __class_attr_rescue_handlers; end

    # source://activeagent//lib/active_agent/generation_job.rb#19
    def __class_attr_rescue_handlers=(new_value); end
  end
end

# = Active Agent \InlinePreviewInterceptor
#
# Implements a agent preview interceptor that converts image tag src attributes
# that use inline cid: style URLs to data: style URLs so that they are visible
# when previewing an HTML prompt in a web browser.
#
# This interceptor is enabled by default. To disable it, delete it from the
# <tt>ActiveAgent::Base.preview_interceptors</tt> array:
#
#   ActiveAgent::Base.preview_interceptors.delete(ActiveAgent::InlinePreviewInterceptor)
#
# source://activeagent//lib/active_agent/inline_preview_interceptor.rb#17
class ActiveAgent::InlinePreviewInterceptor
  include ::Base64

  # @return [InlinePreviewInterceptor] a new instance of InlinePreviewInterceptor
  #
  # source://activeagent//lib/active_agent/inline_preview_interceptor.rb#26
  def initialize(context); end

  # source://activeagent//lib/active_agent/inline_preview_interceptor.rb#30
  def transform!; end

  private

  # Returns the value of attribute context.
  #
  # source://activeagent//lib/active_agent/inline_preview_interceptor.rb#46
  def context; end

  # source://activeagent//lib/active_agent/inline_preview_interceptor.rb#52
  def data_url(part); end

  # source://activeagent//lib/active_agent/inline_preview_interceptor.rb#56
  def find_part(cid); end

  # source://activeagent//lib/active_agent/inline_preview_interceptor.rb#48
  def html_part; end

  class << self
    # source://activeagent//lib/active_agent/inline_preview_interceptor.rb#22
    def previewing_prompt(context); end
  end
end

# source://activeagent//lib/active_agent/inline_preview_interceptor.rb#18
ActiveAgent::InlinePreviewInterceptor::PATTERN = T.let(T.unsafe(nil), Regexp)

# Provides observer and interceptor functionality for monitoring and modifying
# the prompt generation lifecycle.
#
# Observers are notified when prompts are generated and can react to events
# without modifying the prompt itself. Common use cases include logging,
# analytics, auditing, and notifications.
#
# Interceptors are called before prompts are sent to AI providers and can
# modify or prevent the prompt from being sent. Common use cases include
# content filtering, prompt modification, access control, and rate limiting.
#
# source://activeagent//lib/active_agent/concerns/observers.rb#14
module ActiveAgent::Observers
  extend ::ActiveSupport::Concern

  mixes_in_class_methods ::ActiveAgent::Observers::ClassMethods
end

# source://activeagent//lib/active_agent/concerns/observers.rb#17
module ActiveAgent::Observers::ClassMethods
  # Register an Interceptor which will be called before prompt is sent.
  #
  # Either a class, string, or symbol can be passed in as the Interceptor.
  # If a string or symbol is passed in it will be camelized and constantized.
  #
  # @example Register with class
  #   MyAgent.register_interceptor(ContentFilter)
  # @example Register with string
  #   MyAgent.register_interceptor("ContentFilter")
  # @example Register with symbol
  #   MyAgent.register_interceptor(:content_filter)
  # @param interceptor [Class, String, Symbol] The interceptor to register
  # @return [void]
  #
  # source://activeagent//lib/active_agent/concerns/observers.rb#112
  def register_interceptor(interceptor); end

  # Register one or more Interceptors which will be called before prompt is sent.
  #
  # @example Register multiple interceptors
  #   MyAgent.register_interceptors(ContentFilter, :rate_limiter)
  # @param interceptors [Array<Class, String, Symbol>] Interceptor classes or names to register
  # @return [void]
  #
  # source://activeagent//lib/active_agent/concerns/observers.rb#47
  def register_interceptors(*interceptors); end

  # Register an Observer which will be notified when prompt is generated.
  #
  # Either a class, string, or symbol can be passed in as the Observer.
  # If a string or symbol is passed in it will be camelized and constantized.
  #
  # @example Register with class
  #   MyAgent.register_observer(PromptLogger)
  # @example Register with string
  #   MyAgent.register_observer("PromptLogger")
  # @example Register with symbol
  #   MyAgent.register_observer(:prompt_logger)
  # @param observer [Class, String, Symbol] The observer to register
  # @return [void]
  #
  # source://activeagent//lib/active_agent/concerns/observers.rb#78
  def register_observer(observer); end

  # Register one or more Observers which will be notified when prompt is generated.
  #
  # @example Register multiple observers
  #   MyAgent.register_observers(PromptLogger, :analytics_tracker)
  # @param observers [Array<Class, String, Symbol>] Observer classes or names to register
  # @return [void]
  #
  # source://activeagent//lib/active_agent/concerns/observers.rb#25
  def register_observers(*observers); end

  # Unregister a previously registered Interceptor.
  #
  # Either a class, string, or symbol can be passed in as the Interceptor.
  # If a string or symbol is passed in it will be camelized and constantized.
  #
  # @example Unregister with class
  #   MyAgent.unregister_interceptor(ContentFilter)
  # @param interceptor [Class, String, Symbol] The interceptor to unregister
  # @return [void]
  #
  # source://activeagent//lib/active_agent/concerns/observers.rb#126
  def unregister_interceptor(interceptor); end

  # Unregister one or more previously registered Interceptors.
  #
  # @example Unregister multiple interceptors
  #   MyAgent.unregister_interceptors(ContentFilter, :rate_limiter)
  # @param interceptors [Array<Class, String, Symbol>] Interceptor classes or names to unregister
  # @return [void]
  #
  # source://activeagent//lib/active_agent/concerns/observers.rb#58
  def unregister_interceptors(*interceptors); end

  # Unregister a previously registered Observer.
  #
  # Either a class, string, or symbol can be passed in as the Observer.
  # If a string or symbol is passed in it will be camelized and constantized.
  #
  # @example Unregister with class
  #   MyAgent.unregister_observer(PromptLogger)
  # @param observer [Class, String, Symbol] The observer to unregister
  # @return [void]
  #
  # source://activeagent//lib/active_agent/concerns/observers.rb#92
  def unregister_observer(observer); end

  # Unregister one or more previously registered Observers.
  #
  # @example Unregister multiple observers
  #   MyAgent.unregister_observers(PromptLogger, :analytics_tracker)
  # @param observers [Array<Class, String, Symbol>] Observer classes or names to unregister
  # @return [void]
  #
  # source://activeagent//lib/active_agent/concerns/observers.rb#36
  def unregister_observers(*observers); end

  private

  # Converts observer/interceptor value to class.
  #
  # @api private
  # @param value [Class, String, Symbol] The observer/interceptor identifier
  # @return [Class] The observer/interceptor class
  #
  # source://activeagent//lib/active_agent/concerns/observers.rb#137
  def observer_class_for(value); end
end

# Provides parameterization support for agents, allowing you to pass variables
# to agent actions that can be used in templates.
#
# When included in an agent class, this concern enables the ability to pass
# parameters when calling agent actions, making agents reusable with different
# data contexts.
#
# @example Basic usage
#   class WelcomeAgent < ActiveAgent::Base
#   def greet
#   # Template can access params[:user_name]
#   end
#   end
#
#   # Pass parameters to the agent action
#   WelcomeAgent.with(user_name: "Alice").greet.generate
# @example Multiple parameters
#   OrderAgent.with(order_id: 123, customer: "John").process_order.generate
# @example Using in templates
#   # In greet.txt.erb template:
#   # Hello <%= params[:user_name] %>!
#
# source://activeagent//lib/active_agent/concerns/parameterized.rb#28
module ActiveAgent::Parameterized
  extend ::ActiveSupport::Concern

  mixes_in_class_methods ::ActiveAgent::Parameterized::ClassMethods
end

# Proxy class that intercepts method calls to create parameterized generations.
#
# This class is returned by {ClassMethods#with} and acts as a proxy to the
# actual agent class, capturing method calls to actions and creating
# {Generation} instances with the stored parameters.
#
# @api private
#
# source://activeagent//lib/active_agent/concerns/parameterized.rb#110
class ActiveAgent::Parameterized::Agent
  # @api private
  # @param agent [Class] the agent class to proxy
  # @param params [Hash] the parameters to pass to agent instances
  # @return [Agent] a new instance of Agent
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#113
  def initialize(agent, params); end

  # Intercepts calls to agent action methods and creates parameterized generations.
  #
  # @api private
  # @param args [Array] arguments to pass to the action method
  # @param method_name [Symbol] the name of the action method being called
  # @raise [NoMethodError] if the method doesn't exist on the agent class
  # @return [ActiveAgent::Parameterized::Generation] a generation
  #   instance with the stored parameters
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#125
  def method_missing(method_name, *_arg1, **_arg2, &_arg3); end

  private

  # @api private
  # @param include_all [Boolean] whether to include private and protected methods
  # @param method [Symbol] the method name to check
  # @return [Boolean] true if the agent responds to the method
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#136
  def respond_to_missing?(method, include_all = T.unsafe(nil)); end
end

module ActiveAgent::Parameterized::ClassMethods
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#98
  def embed(input = T.unsafe(nil), **options); end

  # source://activeagent//lib/active_agent/concerns/parameterized.rb#76
  def prompt(*messages, **options); end

  # source://activeagent//lib/active_agent/concerns/parameterized.rb#56
  def prompt_with(params = T.unsafe(nil)); end

  # source://activeagent//lib/active_agent/concerns/parameterized.rb#53
  def with(params = T.unsafe(nil)); end
end

# A specialized generation class for direct prompt/embed calls without actions.
#
# This class handles cases where you want to call Agent.prompt(...).generate_now
# or Agent.embed(...).generate_now without defining an action method.
#
# @api private
#
# source://activeagent//lib/active_agent/concerns/parameterized.rb#196
class ActiveAgent::Parameterized::DirectGeneration < ::ActiveAgent::Parameterized::Generation
  # @api private
  # @param agent_class [Class] the agent class
  # @param args [Array] messages for prompt or input for embed
  # @param generation_type [Symbol] either :prompt or :embed
  # @param options [Hash] additional options (temperature, model, etc.)
  # @param params [Hash] the parameters to set on the agent instance
  # @return [DirectGeneration] a new instance of DirectGeneration
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#202
  def initialize(agent_class, generation_type, params, *args, **options); end

  # Override generate_now to route to correct method based on generation type
  #
  # @api private
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#212
  def generate_now; end

  # Override generate_now! to route to correct method based on generation type
  #
  # @api private
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#222
  def generate_now!; end

  # Generates a preview based on generation type.
  #
  # @api private
  # @raise [NotImplementedError] for embed generations (not yet supported)
  # @return [String] markdown-formatted preview for prompt generations
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#236
  def preview; end

  private

  # Creates and processes an agent instance for direct generation.
  #
  # Instead of calling a real action method, this directly calls the
  # prompt() or embed() method on the agent instance with the provided arguments.
  #
  # @api private
  # @return [ActiveAgent::Base] the processed agent instance
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#253
  def agent; end

  # Enqueues a direct generation job.
  #
  # @api private
  # @param generation_method [Symbol, String] the generation method to call
  # @param job_options [Hash] options to pass to the job
  # @return [Object] the enqueued job instance
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#272
  def enqueue_generation(generation_method, job_options = T.unsafe(nil)); end
end

# A specialized generation class that handles parameterized agent actions.
#
# This class extends {ActiveAgent::Generation} to support passing parameters
# to agent instances before processing actions. It ensures parameters are
# properly set both for immediate processing and when enqueuing background jobs.
#
# @api private
#
# source://activeagent//lib/active_agent/concerns/parameterized.rb#148
class ActiveAgent::Parameterized::Generation < ::ActiveAgent::Generation
  # @api private
  # @param action [Symbol, String] the action method name
  # @param agent_class [Class] the agent class
  # @param args [Array] additional arguments for the action method
  # @param params [Hash] the parameters to set on the agent instance
  # @return [Generation] a new instance of Generation
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#153
  def initialize(agent_class, action, params, *_arg3, **_arg4, &_arg5); end

  private

  # Creates and processes an agent instance with parameters set.
  #
  # @api private
  # @return [ActiveAgent::Base] the processed agent instance with params
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#163
  def agent; end

  # Enqueues a generation job with parameters included.
  #
  # This method ensures that when a parameterized generation is enqueued,
  # the parameters are passed to the background job so they can be
  # properly set when the job executes.
  #
  # @api private
  # @param generation_method [Symbol, String] the generation method to call
  # @param job_options [Hash] options to pass to the job (e.g., queue, priority)
  # @return [Object] the enqueued job instance
  #
  # source://activeagent//lib/active_agent/concerns/parameterized.rb#179
  def enqueue_generation(generation_method, job_options = T.unsafe(nil)); end
end

# source://activeagent//lib/active_agent/concerns/preview.rb#59
class ActiveAgent::Preview
  extend ::ActiveSupport::DescendantsTracker

  # @return [Preview] a new instance of Preview
  #
  # source://activeagent//lib/active_agent/concerns/preview.rb#64
  def initialize(params = T.unsafe(nil)); end

  # Returns the value of attribute params.
  #
  # source://activeagent//lib/active_agent/concerns/preview.rb#62
  def params; end

  class << self
    # Returns all agent preview classes.
    #
    # source://activeagent//lib/active_agent/concerns/preview.rb#70
    def all; end

    # Returns the prompt object for the given context. The registered preview
    # interceptors will be informed so that they can transform the message
    # as they would if the mail was actually being delivered.
    #
    # source://activeagent//lib/active_agent/concerns/preview.rb#78
    def call(context, params = T.unsafe(nil)); end

    # Returns +true+ if the preview exists.
    #
    # @return [Boolean]
    #
    # source://activeagent//lib/active_agent/concerns/preview.rb#96
    def exists?(preview); end

    # Find a agent preview by its underscored class name.
    #
    # source://activeagent//lib/active_agent/concerns/preview.rb#101
    def find(preview); end

    # Returns the underscored name of the agent preview without the suffix.
    #
    # source://activeagent//lib/active_agent/concerns/preview.rb#106
    def preview_name; end

    # Returns +true+ if the prompt exists.
    #
    # @return [Boolean]
    #
    # source://activeagent//lib/active_agent/concerns/preview.rb#91
    def prompt_exists?(prompt); end

    # Returns all of the available prompt previews.
    #
    # source://activeagent//lib/active_agent/concerns/preview.rb#86
    def prompts; end

    private

    # source://activeagent//lib/active_agent/concerns/preview.rb#126
    def inform_preview_interceptors(context); end

    # source://activeagent//lib/active_agent/concerns/preview.rb#112
    def load_previews; end

    # source://activeagent//lib/active_agent/concerns/preview.rb#118
    def preview_paths; end

    # source://activeagent//lib/active_agent/concerns/preview.rb#122
    def show_previews; end
  end
end

# source://activeagent//lib/active_agent/concerns/preview.rb#6
module ActiveAgent::Previews
  extend ::ActiveSupport::Concern

  mixes_in_class_methods ::ActiveAgent::Previews::ClassMethods
end

# source://activeagent//lib/active_agent/concerns/preview.rb#17
module ActiveAgent::Previews::ClassMethods
  # Register an Interceptor which will be called before prompt is previewed.
  # Either a class or a string can be passed in as the Interceptor. If a
  # string is passed in it will be constantized.
  #
  # source://activeagent//lib/active_agent/concerns/preview.rb#31
  def register_preview_interceptor(interceptor); end

  # Register one or more Interceptors which will be called before prompt is previewed.
  #
  # source://activeagent//lib/active_agent/concerns/preview.rb#19
  def register_preview_interceptors(*interceptors); end

  # Unregister a previously registered Interceptor.
  # Either a class or a string can be passed in as the Interceptor. If a
  # string is passed in it will be constantized.
  #
  # source://activeagent//lib/active_agent/concerns/preview.rb#42
  def unregister_preview_interceptor(interceptor); end

  # Unregister one or more previously registered Interceptors.
  #
  # source://activeagent//lib/active_agent/concerns/preview.rb#24
  def unregister_preview_interceptors(*interceptors); end

  private

  # source://activeagent//lib/active_agent/concerns/preview.rb#48
  def interceptor_class_for(interceptor); end
end

# Configures and manages AI provider integration for action prompts.
#
# source://activeagent//lib/active_agent/concerns/provider.rb#7
module ActiveAgent::Provider
  extend ::ActiveSupport::Concern
  include GeneratedInstanceMethods

  mixes_in_class_methods GeneratedClassMethods
  mixes_in_class_methods ::ActiveAgent::Provider::ClassMethods

  module GeneratedClassMethods
    def _embed_provider_klass; end
    def _embed_provider_klass=(value); end
    def _prompt_provider_klass; end
    def _prompt_provider_klass=(value); end
  end

  module GeneratedInstanceMethods; end
end

module ActiveAgent::Provider::ClassMethods
  # source://activeagent//lib/active_agent/concerns/provider.rb#83
  def configuration(reference, **options); end

  # source://activeagent//lib/active_agent/concerns/provider.rb#54
  def embed_provider=(reference); end

  # source://activeagent//lib/active_agent/concerns/provider.rb#117
  def embed_provider_klass; end

  # source://activeagent//lib/active_agent/concerns/provider.rb#30
  def prompt_provider=(reference); end

  # source://activeagent//lib/active_agent/concerns/provider.rb#112
  def prompt_provider_klass; end

  # source://activeagent//lib/active_agent/concerns/provider.rb#89
  def provider_config_load(provider_type); end

  # source://activeagent//lib/active_agent/concerns/provider.rb#101
  def provider_load(service_name); end

  # source://activeagent//lib/active_agent/concerns/provider.rb#75
  def provider_setup(reference, **options); end
end

# "Your tacky and I hate you" - Billy, https://youtu.be/dsheboxJNgQ?si=tzDlJ7sdSxM4RjSD
#
# source://activeagent//lib/active_agent/concerns/provider.rb#11
ActiveAgent::Provider::PROVIDER_SERVICE_NAMES_REMAPS = T.let(T.unsafe(nil), Hash)

# source://activeagent//lib/active_agent/providers/common/model.rb#4
module ActiveAgent::Providers; end

# Orchestrates LLM provider API requests, streaming, and multi-turn tool calling.
#
# Each provider (OpenAI, Anthropic, etc.) subclasses this to implement
# provider-specific API interactions.
#
# @abstract Subclasses must implement {#api_prompt_execute},
#   {#process_stream_chunk}, {#process_prompt_finished_extract_messages},
#   and {#process_prompt_finished_extract_function_calls}
#
# source://activeagent//lib/active_agent/providers/_base_provider.rb#43
class ActiveAgent::Providers::BaseProvider
  include ::ActiveAgent::Providers::ExceptionHandler
  include ::ActiveAgent::Providers::Instrumentation
  include ::ActiveAgent::Providers::Previewable
  include ::ActiveAgent::Providers::ToolChoiceClearing
  extend ::ActiveSupport::Delegation

  # @option kwargs
  # @option kwargs
  # @option kwargs
  # @param kwargs [Hash] configuration and callbacks
  # @raise [RuntimeError] when service name doesn't match provider
  # @return [BaseProvider] a new instance of BaseProvider
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#97
  def initialize(kwargs = T.unsafe(nil)); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def context; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def context=(_arg0); end

  # Executes embedding request with error handling and instrumentation.
  #
  # @return [ActiveAgent::Providers::Common::EmbedResponse]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#139
  def embed; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#90
  def embed_request_type(&_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#46
  def exception_handler; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#46
  def exception_handler=(_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def message_stack; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def message_stack=(_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#90
  def namespace(&_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def options; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def options=(_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#90
  def options_klass(&_arg0); end

  # Generates prompt preview without executing the API call.
  #
  # @return [String] markdown-formatted preview
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#117
  def preview; end

  # Executes prompt request with error handling and instrumentation.
  #
  # @return [ActiveAgent::Providers::Common::PromptResponse]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#125
  def prompt; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#90
  def prompt_request_type(&_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def request; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def request=(_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#90
  def service_name(&_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def stream_broadcaster; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def stream_broadcaster=(_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def streaming; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def streaming=(_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#90
  def tag_name(&_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def tools_function; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def tools_function=(_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def trace_id; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def trace_id=(_arg0); end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def usage_stack; end

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#53
  def usage_stack=(_arg0); end

  protected

  # Executes embedding request against provider's API.
  #
  # @abstract
  # @param request_parameters [Hash]
  # @raise [NotImplementedError]
  # @return [Object] provider-specific embedding response
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#286
  def api_embed_execute(request_parameters); end

  # Executes prompt request against provider's API.
  #
  # @abstract
  # @param parameters [Hash]
  # @raise [NotImplementedError]
  # @return [Object] provider-specific API response
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#247
  def api_prompt_execute(parameters); end

  # Returns provider-specific API executer for prompt requests.
  #
  # Since all currently implemented providers use stainless gems, subclasses
  # only need to override endpoint selection.
  #
  # @abstract
  # @raise [NotImplementedError]
  # @return [Object] provider-specific API client
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#264
  def api_prompt_executer; end

  # @param request [Request]
  # @param request_type [ActiveModel::Type::Value] for serialization
  # @return [Hash] API request parameters
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#223
  def api_request_build(request, request_type); end

  # Normalizes API response for instrumentation.
  #
  # Providers that return gem objects (like Anthropic::Models::Message) should
  # override this to convert to a hash so usage data can be extracted.
  # By default, returns the response as-is (for providers returning hashes).
  #
  # @param api_response [Object] provider-specific API response
  # @return [Hash, Object] normalized response (preferably hash)
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#276
  def api_response_normalize(api_response); end

  # @param name [String, nil]
  # @raise [RuntimeError] when service name doesn't match provider
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#154
  def assert_service!(name); end

  # Broadcasts stream close event.
  #
  # Fires once per request cycle, even during multi-turn tool calling.
  #
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#326
  def broadcast_stream_close; end

  # Broadcasts stream open event.
  #
  # Fires once per request cycle, even during multi-turn tool calling.
  #
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#304
  def broadcast_stream_open; end

  # Broadcasts stream update with message content delta.
  #
  # @param delta [String, nil]
  # @param message [Hash, Object]
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#317
  def broadcast_stream_update(message, delta = T.unsafe(nil)); end

  # @param name [String]
  # @param payload [Hash]
  # @return [Object] block result
  # @yield block to instrument
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#162
  def instrument(name, payload = T.unsafe(nil), &block); end

  # Prepares request for next iteration in multi-turn conversation.
  #
  # Appends accumulated messages and resets buffer for next cycle.
  #
  # @return [Request]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#213
  def prepare_prompt_request; end

  # @param api_response [Hash]
  # @return [Common::EmbedResponse]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#392
  def process_embed_finished(api_response); end

  # Extracts embedding vectors from API response.
  #
  # Handles both list and single embedding response formats:
  # - List: `{ "data": [{ "embedding": [...] }] }`
  # - Single: `{ "embedding": [...] }`
  #
  # @param api_response [Hash]
  # @raise [RuntimeError] when response format is unexpected
  # @return [Array<Hash>] embedding objects with :index, :object, :embedding keys
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#410
  def process_embed_finished_data(api_response); end

  # Processes completed API response and handles tool calling recursion.
  #
  # Extracts messages and function calls. If tools were invoked,
  # executes them and recursively continues until completion.
  #
  # @param api_response [Object, nil] provider-specific response
  # @return [Common::PromptResponse, nil]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#341
  def process_prompt_finished(api_response = T.unsafe(nil)); end

  # @abstract
  # @raise [NotImplementedError]
  # @return [Array<Hash>, nil]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#386
  def process_prompt_finished_extract_function_calls; end

  # @abstract
  # @param api_response [Object]
  # @raise [NotImplementedError]
  # @return [Array<Message>, nil]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#379
  def process_prompt_finished_extract_messages(api_response); end

  # @return [Proc] for each response chunk
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#235
  def process_stream; end

  # Processes a single streaming response chunk.
  #
  # @abstract
  # @param api_response_chunk [Object] provider-specific chunk format
  # @raise [NotImplementedError]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#295
  def process_stream_chunk(api_response_chunk); end

  # Orchestrates complete embedding request lifecycle.
  #
  # @return [ActiveAgent::Providers::Common::EmbedResponse]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#193
  def resolve_embed; end

  # Orchestrates complete prompt request lifecycle.
  #
  # Handles recursive tool/function calling until completion.
  #
  # @return [ActiveAgent::Providers::Common::PromptResponse]
  #
  # source://activeagent//lib/active_agent/providers/_base_provider.rb#172
  def resolve_prompt; end

  class << self
    # @raise [NotImplementedError] when provider doesn't support embeddings
    # @return [ActiveModel::Type::Value] for embedding casting/serialization
    #
    # source://activeagent//lib/active_agent/providers/_base_provider.rb#86
    def embed_request_type; end

    # @return [Module] e.g., ActiveAgent::Providers::OpenAI
    #
    # source://activeagent//lib/active_agent/providers/_base_provider.rb#70
    def namespace; end

    # @return [Class]
    #
    # source://activeagent//lib/active_agent/providers/_base_provider.rb#75
    def options_klass; end

    # @return [ActiveModel::Type::Value] for prompt casting/serialization
    #
    # source://activeagent//lib/active_agent/providers/_base_provider.rb#80
    def prompt_request_type; end

    # @return [String] e.g., "Anthropic", "OpenAI"
    #
    # source://activeagent//lib/active_agent/providers/_base_provider.rb#60
    def service_name; end

    # @return [String] e.g., "Anthropic", "OpenAI::Chat"
    #
    # source://activeagent//lib/active_agent/providers/_base_provider.rb#65
    def tag_name; end
  end
end

# source://activeagent//lib/active_agent/providers/_base_provider.rb#51
class ActiveAgent::Providers::BaseProvider::ProvidersError < ::StandardError; end

# source://activeagent//lib/active_agent/providers/common/model.rb#5
module ActiveAgent::Providers::Common; end

# BaseModel provides a foundation for structured data models with compressed serialization support.
#
# This class extends ActiveModel functionality to provide:
# - Attribute definition with default values
# - Compressed hash serialization (excludes default values)
# - Required attribute tracking
# - Deep compaction of nested structures
#
# == Example
#
#   class Message < BaseModel
#     attribute :role, :string, as: "user"
#     attribute :type, :string, fallback: "plain/text"
#     attribute :content, :string
#   end
#
#   message = Message.new(content: "Hello")
#   message.to_h      #=> { role: "user", type: "plain/text", content: "Hello" }
#   message.serialize #=> { role: "user", type: "plain/text", content: "Hello" }
#
# source://activeagent//lib/active_agent/providers/common/model.rb#25
class ActiveAgent::Providers::Common::BaseModel
  include ::ActiveModel::Validations
  include ::ActiveSupport::Callbacks
  include ::ActiveModel::Validations::HelperMethods
  include ::ActiveModel::Conversion
  include ::ActiveModel::ForbiddenAttributesProtection
  include ::ActiveModel::AttributeAssignment
  include ::ActiveModel::API
  include ::ActiveModel::Access
  include ::ActiveModel::Model
  include ::ActiveModel::AttributeRegistration
  include ::ActiveModel::AttributeMethods
  include ::ActiveModel::Attributes
  extend ::ActiveModel::Validations::ClassMethods
  extend ::ActiveModel::Naming
  extend ::ActiveModel::Callbacks
  extend ::ActiveSupport::Callbacks::ClassMethods
  extend ::ActiveSupport::DescendantsTracker
  extend ::ActiveModel::Translation
  extend ::ActiveModel::Validations::HelperMethods
  extend ::ActiveModel::Conversion::ClassMethods
  extend ::ActiveModel::AttributeRegistration::ClassMethods
  extend ::ActiveModel::AttributeMethods::ClassMethods
  extend ::ActiveModel::Attributes::ClassMethods

  # Initializes a new instance with the given attributes.
  #
  # Attributes can be provided as a hash. Hash keys are sorted to prioritize nested
  # objects during initialization for backwards compatibility. A special internal key
  # `__default_values` can be passed to get an instance with only default values
  # without any overrides.
  #
  # @example
  #   Message.new(role: "user", content: "Hello")
  # @param kwargs [Hash] attributes to initialize the instance with
  # @return [BaseModel] the initialized instance
  #
  # source://activeagent//lib/active_agent/providers/common/model.rb#161
  def initialize(kwargs = T.unsafe(nil)); end

  # Compares two models based on their serialized representations.
  #
  # Uses the serialized hash to compare models, allowing for sorting and equality
  # comparisons based on attribute values rather than object identity.
  #
  # @example
  #   model1 = Message.new(content: "A")
  #   model2 = Message.new(content: "B")
  #   model1 <=> model2  #=> -1
  # @param other [BaseModel] the model to compare against
  # @return [Integer, nil] -1, 0, 1, or nil if not comparable
  #
  # source://activeagent//lib/active_agent/providers/common/model.rb#339
  def <=>(other); end

  # Compares equality based on serialized representation.
  #
  # Two models are equal if their serialized hashes are equal, regardless
  # of object identity. This allows value-based equality comparisons.
  #
  # @example
  #   model1 = Message.new(content: "Hello")
  #   model2 = Message.new(content: "Hello")
  #   model1 == model2  #=> true
  # @param other [BaseModel] the model to compare against
  # @return [Boolean]
  #
  # source://activeagent//lib/active_agent/providers/common/model.rb#355
  def ==(other); end

  # source://activeagent//lib/active_agent/providers/common/model.rb#26
  def __callbacks; end

  # source://activeagent//lib/active_agent/providers/common/model.rb#26
  def _run_validate_callbacks; end

  # source://activeagent//lib/active_agent/providers/common/model.rb#26
  def _run_validate_callbacks!(&block); end

  # source://activeagent//lib/active_agent/providers/common/model.rb#26
  def _validate_callbacks; end

  # source://activeagent//lib/active_agent/providers/common/model.rb#26
  def _validators; end

  # source://activeagent//lib/active_agent/providers/common/model.rb#26
  def _validators?; end

  # source://activeagent//lib/active_agent/providers/common/model.rb#27
  def attribute_aliases; end

  # source://activeagent//lib/active_agent/providers/common/model.rb#27
  def attribute_aliases?; end

  # source://activeagent//lib/active_agent/providers/common/model.rb#27
  def attribute_method_patterns; end

  # source://activeagent//lib/active_agent/providers/common/model.rb#27
  def attribute_method_patterns?; end

  # Recursively removes nil values and empty collections from a hash.
  #
  # Nested hashes and arrays are processed recursively. Empty hashes and
  # arrays after compaction are also removed.
  #
  # @example
  #   deep_compact({ a: 1, b: nil, c: { d: nil, e: 2 } })
  #   #=> { a: 1, c: { e: 2 } }
  # @param kwargs [Hash] hash to compact
  # @return [Hash] compacted hash with nil values and empty collections removed
  #
  # source://activeagent//lib/active_agent/providers/common/model.rb#198
  def deep_compact(kwargs = T.unsafe(nil)); end

  # Creates a deep duplicate of the model.
  #
  # Duplicates the model instance and recursively duplicates any array or hash attributes
  # to ensure complete independence from the original object.
  #
  # @return [BaseModel] deep duplicate of the model
  #
  # source://activeagent//lib/active_agent/providers/common/model.rb#250
  def deep_dup; end

  # Returns a string representation for inspection.
  #
  # Provides a readable view of the model showing the class name and non-default attributes
  # in a format similar to standard Ruby object inspection.
  #
  # @example
  #   message = Message.new(role: "user", content: "Hello")
  #   message.inspect
  #   #=> "#<Message role: \"user\", content: \"Hello\">"
  # @return [String] formatted string representation
  # @see #serialize
  #
  # source://activeagent//lib/active_agent/providers/common/model.rb#311
  def inspect; end

  # Merges the given attributes into the current instance.
  #
  # Only attributes with corresponding setter methods are updated.
  # Keys are symbolized before merging.
  #
  # @param kwargs [Hash] attribute keyword arguments to merge
  # @return [BaseModel] self for method chaining
  #
  # source://activeagent//lib/active_agent/providers/common/model.rb#179
  def merge!(kwargs = T.unsafe(nil)); end

  # source://activeagent//lib/active_agent/providers/common/model.rb#26
  def model_name(&_arg0); end

  # source://activeagent//lib/active_agent/providers/common/model.rb#26
  def param_delimiter=(_arg0); end

  # Serializes the model using attribute type serializers.
  #
  # Iterates through each attribute and uses its ActiveModel::Type serializer
  # to convert the value to its serialized form. Only non-default values are included,
  # except for required attributes (those defined with `:as` or `:fallback` options).
  # This provides a compressed serialization that respects custom type logic.
  #
  # @example
  #   message = Message.new(role: "user", content: "Hello")
  #   message.serialize  #=> { role: "user", content: "Hello" }
  # @return [Hash] serialized representation with non-default and required attributes
  #
  # source://activeagent//lib/active_agent/providers/common/model.rb#282
  def serialize; end

  # Alias for {#to_hash}.
  #
  # @return [Hash] hash representation of all attributes
  # @see #to_hash
  #
  # source://activeagent//lib/active_agent/providers/common/model.rb#242
  def to_h; end

  # Converts the model to a hash representation.
  #
  # Recursively converts nested BaseModel instances and arrays to hashes.
  # Nil values and empty collections are removed via deep_compact.
  #
  # @example
  #   message.to_hash
  #   #=> { role: "user", content: "Hello", metadata: { id: 1 } }
  # @return [Hash] hash representation of all attributes
  #
  # source://activeagent//lib/active_agent/providers/common/model.rb#225
  def to_hash; end

  # Returns a string representation for inspection.
  #
  # Provides a readable view of the model showing the class name and non-default attributes
  # in a format similar to standard Ruby object inspection.
  #
  # @example
  #   message = Message.new(role: "user", content: "Hello")
  #   message.inspect
  #   #=> "#<Message role: \"user\", content: \"Hello\">"
  # @return [String] formatted string representation
  # @see #inspect
  # @see #serialize
  #
  # source://activeagent//lib/active_agent/providers/common/model.rb#325
  def to_s; end

  class << self
    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def __callbacks; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def __callbacks=(value); end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def _validate_callbacks; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def _validate_callbacks=(value); end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def _validators; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def _validators=(value); end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def _validators?; end

    # Defines an attribute on the model with special handling for default values.
    #
    # @example Define a read-only attribute with a default value
    #   attribute :role, :string, as: "user"
    # @example Define a regular attribute
    #   attribute :messages, :array
    # @example Define an attribute with a fallback value
    #   attribute :temperature, :float, fallback: 0.7
    # @option options
    # @option options
    # @param name [Symbol, String] the name of the attribute
    # @param options [Hash] additional options for the attribute
    # @param type [Class, nil] the type of the attribute (optional)
    # @raise [ArgumentError] if attempting to set a value different from the :as default
    #
    # source://activeagent//lib/active_agent/providers/common/model.rb#69
    def attribute(name, type = T.unsafe(nil), **options); end

    # source://activeagent//lib/active_agent/providers/common/model.rb#27
    def attribute_aliases; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#27
    def attribute_aliases=(value); end

    # source://activeagent//lib/active_agent/providers/common/model.rb#27
    def attribute_aliases?; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#27
    def attribute_method_patterns; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#27
    def attribute_method_patterns=(value); end

    # source://activeagent//lib/active_agent/providers/common/model.rb#27
    def attribute_method_patterns?; end

    # Delegates attribute accessors to another object.
    #
    # Creates getter and setter methods that forward to the specified target object.
    # If the target is nil when setting, an empty hash is initialized.
    #
    # @example
    #   delegate_attributes :temperature, :max_tokens, to: :options
    # @param attributes [Array<Symbol>] attribute names to delegate
    # @param to [Symbol] the target method/attribute name
    #
    # source://activeagent//lib/active_agent/providers/common/model.rb#106
    def delegate_attributes(*attributes, to:); end

    # Drops specified attributes by defining no-op setters.
    #
    # This is useful when converting between providers that support different attributes
    # or when dropping attributes during message response to request construction.
    # The attributes can still be read if defined elsewhere, but setting them has no effect.
    #
    # @example
    #   drop_attributes :metadata, :extra_info
    # @param attributes [Array<Symbol>] attribute names to drop
    # @return [void]
    #
    # source://activeagent//lib/active_agent/providers/common/model.rb#131
    def drop_attributes(*attributes); end

    # Ensures subclasses get their own required_attributes set.
    #
    # @param subclass [Class] the inheriting class
    # @return [void]
    #
    # source://activeagent//lib/active_agent/providers/common/model.rb#43
    def inherited(subclass); end

    # Returns all attribute keys including aliases.
    #
    # Combines both the main attribute type keys and any attribute aliases,
    # ensuring all possible attribute names are represented as symbols.
    #
    # @return [Array<Symbol>] array of all attribute keys
    #
    # source://activeagent//lib/active_agent/providers/common/model.rb#145
    def keys; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def param_delimiter; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def param_delimiter=(value); end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def param_delimiter?; end

    # Returns the set of required attribute names that must be included in compressed output.
    #
    # Required attributes are those defined with the +as+ option, which establishes
    # a default value that should always be serialized.
    #
    # @return [Set<String>] set of required attribute names
    #
    # source://activeagent//lib/active_agent/providers/common/model.rb#35
    def required_attributes; end

    private

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def __class_attr___callbacks; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def __class_attr___callbacks=(new_value); end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def __class_attr__validators; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def __class_attr__validators=(new_value); end

    # source://activeagent//lib/active_agent/providers/common/model.rb#27
    def __class_attr_attribute_aliases; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#27
    def __class_attr_attribute_aliases=(new_value); end

    # source://activeagent//lib/active_agent/providers/common/model.rb#27
    def __class_attr_attribute_method_patterns; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#27
    def __class_attr_attribute_method_patterns=(new_value); end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def __class_attr_param_delimiter; end

    # source://activeagent//lib/active_agent/providers/common/model.rb#26
    def __class_attr_param_delimiter=(new_value); end
  end
end

# source://activeagent//lib/active_agent/providers/common/response.rb#10
ActiveAgent::Providers::Common::EmbedResponse = ActiveAgent::Providers::Common::Responses::Embed

# source://activeagent//lib/active_agent/providers/common/messages/base.rb#8
module ActiveAgent::Providers::Common::Messages; end

# Represents messages sent by the AI assistant in a conversation.
#
# source://activeagent//lib/active_agent/providers/common/messages/assistant.rb#10
class ActiveAgent::Providers::Common::Messages::Assistant < ::ActiveAgent::Providers::Common::Messages::Base
  # Extracts and parses JSON object or array from message content.
  #
  # Searches for the first occurrence of `{` or `[` and last occurrence of `}` or `]`,
  # then parses the content between them. Useful for extracting structured data from
  # assistant messages that may contain additional text around the JSON.
  #
  # @param normalize_names [Symbol, nil] key normalization method (e.g., :underscore)
  # @param symbolize_names [Boolean] whether to symbolize hash keys
  # @return [Hash, Array, nil] parsed JSON structure or nil if parsing fails
  #
  # source://activeagent//lib/active_agent/providers/common/messages/assistant.rb#67
  def json_object(symbolize_names: T.unsafe(nil), normalize_names: T.unsafe(nil)); end

  # Extracts and parses JSON object or array from message content.
  #
  # Searches for the first occurrence of `{` or `[` and last occurrence of `}` or `]`,
  # then parses the content between them. Useful for extracting structured data from
  # assistant messages that may contain additional text around the JSON.
  #
  # @param normalize_names [Symbol, nil] key normalization method (e.g., :underscore)
  # @param symbolize_names [Boolean] whether to symbolize hash keys
  # @return [Hash, Array, nil] parsed JSON structure or nil if parsing fails
  #
  # source://activeagent//lib/active_agent/providers/common/messages/assistant.rb#68
  def parse_json(symbolize_names: T.unsafe(nil), normalize_names: T.unsafe(nil)); end

  # Extracts and parses JSON object or array from message content.
  #
  # Searches for the first occurrence of `{` or `[` and last occurrence of `}` or `]`,
  # then parses the content between them. Useful for extracting structured data from
  # assistant messages that may contain additional text around the JSON.
  #
  # @param normalize_names [Symbol, nil] key normalization method (e.g., :underscore)
  # @param symbolize_names [Boolean] whether to symbolize hash keys
  # @return [Hash, Array, nil] parsed JSON structure or nil if parsing fails
  #
  # source://activeagent//lib/active_agent/providers/common/messages/assistant.rb#26
  def parsed_json(symbolize_names: T.unsafe(nil), normalize_names: T.unsafe(nil)); end

  # source://activeagent//lib/active_agent/providers/common/messages/assistant.rb#11
  def role=(value); end

  # Returns content as a string, handling both string and array formats
  #
  # source://activeagent//lib/active_agent/providers/common/messages/assistant.rb#59
  def text; end

  class << self
    private

    # source://activeagent//lib/active_agent/providers/common/messages/assistant.rb#15
    def __class_attr___callbacks; end

    # source://activeagent//lib/active_agent/providers/common/messages/assistant.rb#15
    def __class_attr___callbacks=(new_value); end

    # source://activeagent//lib/active_agent/providers/common/messages/assistant.rb#10
    def __class_attr__validators; end

    # source://activeagent//lib/active_agent/providers/common/messages/assistant.rb#10
    def __class_attr__validators=(new_value); end
  end
end

# source://activeagent//lib/active_agent/providers/common/messages/base.rb#9
class ActiveAgent::Providers::Common::Messages::Base < ::ActiveAgent::Providers::Common::BaseModel
  # source://activeagent//lib/active_agent/providers/common/messages/base.rb#12
  def _run_validate_callbacks(&block); end

  class << self
    private

    # source://activeagent//lib/active_agent/providers/common/messages/base.rb#12
    def __class_attr___callbacks; end

    # source://activeagent//lib/active_agent/providers/common/messages/base.rb#12
    def __class_attr___callbacks=(new_value); end

    # source://activeagent//lib/active_agent/providers/common/messages/base.rb#9
    def __class_attr__validators; end

    # source://activeagent//lib/active_agent/providers/common/messages/base.rb#9
    def __class_attr__validators=(new_value); end
  end
end

# Tool message - messages containing tool call results
#
# source://activeagent//lib/active_agent/providers/common/messages/tool.rb#10
class ActiveAgent::Providers::Common::Messages::Tool < ::ActiveAgent::Providers::Common::Messages::Base
  # source://activeagent//lib/active_agent/providers/common/messages/tool.rb#11
  def role=(value); end

  class << self
    private

    # source://activeagent//lib/active_agent/providers/common/messages/tool.rb#16
    def __class_attr___callbacks; end

    # source://activeagent//lib/active_agent/providers/common/messages/tool.rb#16
    def __class_attr___callbacks=(new_value); end

    # source://activeagent//lib/active_agent/providers/common/messages/tool.rb#10
    def __class_attr__validators; end

    # source://activeagent//lib/active_agent/providers/common/messages/tool.rb#10
    def __class_attr__validators=(new_value); end
  end
end

# source://activeagent//lib/active_agent/providers/common/messages/_types.rb#11
module ActiveAgent::Providers::Common::Messages::Types; end

# Type for a single Message
#
# source://activeagent//lib/active_agent/providers/common/messages/_types.rb#13
class ActiveAgent::Providers::Common::Messages::Types::MessageType < ::ActiveModel::Type::Value
  # source://activeagent//lib/active_agent/providers/common/messages/_types.rb#14
  def cast(value); end

  # source://activeagent//lib/active_agent/providers/common/messages/_types.rb#22
  def deserialize(value); end

  # source://activeagent//lib/active_agent/providers/common/messages/_types.rb#18
  def serialize(value); end

  private

  # source://activeagent//lib/active_agent/providers/common/messages/_types.rb#28
  def cast_message(value); end

  # source://activeagent//lib/active_agent/providers/common/messages/_types.rb#79
  def serialize_message(value); end
end

# Type for Messages array
#
# source://activeagent//lib/active_agent/providers/common/messages/_types.rb#94
class ActiveAgent::Providers::Common::Messages::Types::MessagesType < ::ActiveModel::Type::Value
  # source://activeagent//lib/active_agent/providers/common/messages/_types.rb#95
  def cast(value); end

  # source://activeagent//lib/active_agent/providers/common/messages/_types.rb#119
  def deserialize(value); end

  # source://activeagent//lib/active_agent/providers/common/messages/_types.rb#108
  def serialize(value); end

  private

  # source://activeagent//lib/active_agent/providers/common/messages/_types.rb#125
  def message_type; end

  # Splits an assistant message with array content into separate messages
  # for each content block.
  #
  # @param message [Common::Messages::Base]
  # @return [Array<Common::Messages::Base>]
  #
  # source://activeagent//lib/active_agent/providers/common/messages/_types.rb#134
  def split_content_blocks(message); end
end

# Represents a message sent by the user in a conversation
#
# source://activeagent//lib/active_agent/providers/common/messages/user.rb#10
class ActiveAgent::Providers::Common::Messages::User < ::ActiveAgent::Providers::Common::Messages::Base
  # source://activeagent//lib/active_agent/providers/common/messages/user.rb#11
  def role=(value); end

  class << self
    private

    # source://activeagent//lib/active_agent/providers/common/messages/user.rb#15
    def __class_attr___callbacks; end

    # source://activeagent//lib/active_agent/providers/common/messages/user.rb#15
    def __class_attr___callbacks=(new_value); end

    # source://activeagent//lib/active_agent/providers/common/messages/user.rb#10
    def __class_attr__validators; end

    # source://activeagent//lib/active_agent/providers/common/messages/user.rb#10
    def __class_attr__validators=(new_value); end
  end
end

# source://activeagent//lib/active_agent/providers/common/response.rb#9
ActiveAgent::Providers::Common::PromptResponse = ActiveAgent::Providers::Common::Responses::Prompt

# source://activeagent//lib/active_agent/providers/common/responses/base.rb#9
module ActiveAgent::Providers::Common::Responses; end

# Provides unified interface for AI provider responses across OpenAI, Anthropic, etc.
#
# @abstract Subclass and override {#usage} if provider uses non-standard format
# @example Accessing response data
#   response = agent.prompt.generate_now
#   response.success?         #=> true
#   response.usage            #=> Usage object with normalized fields
#   response.total_tokens     #=> 30
# @example Inspecting raw provider data
#   response.raw_request      #=> { "model" => "gpt-4", "messages" => [...] }
#   response.raw_response     #=> { "id" => "chatcmpl-...", "choices" => [...] }
# @note Use specialized subclasses for specific response types:
#   - {Prompt} for conversational/completion responses
#   - {Embed} for embedding responses
# @see BaseModel
# @see Embed
# @see Prompt
#
# source://activeagent//lib/active_agent/providers/common/responses/base.rb#31
class ActiveAgent::Providers::Common::Responses::Base < ::ActiveAgent::Providers::Common::BaseModel
  # Initializes response with deep-duplicated attributes.
  #
  # Deep duplication prevents external modifications from affecting internal state.
  # The raw_response is deep symbolized for consistent key access across providers.
  #
  # @option kwargs
  # @option kwargs
  # @option kwargs
  # @param kwargs [Hash]
  # @return [Base] a new instance of Base
  #
  # source://activeagent//lib/active_agent/providers/common/responses/base.rb#75
  def initialize(kwargs = T.unsafe(nil)); end

  # Finish reason from provider response.
  #
  # Indicates why generation stopped (e.g., "stop", "length", "tool_calls").
  # Normalizes access across providers that use different field names.
  #
  # @example
  #   response.finish_reason  #=> "stop"
  #   response.finish_reason  #=> "length"
  #   response.finish_reason  #=> "tool_calls"
  #   response.stop_reason    #=> "stop" (alias)
  # @return [String, nil]
  #
  # source://activeagent//lib/active_agent/providers/common/responses/base.rb#181
  def finish_reason; end

  # Response ID from provider, useful for tracking and debugging.
  #
  # @example
  #   response.id  #=> "chatcmpl-CbDx1nXoNSBrNIMhiuy5fk7jXQjmT" (OpenAI)
  #   response.id  #=> "msg_01RotDmSnYpKQjrTpaHUaEBz" (Anthropic)
  #   response.id  #=> "gen-1761505659-yxgaVsqVABMQqw6oA7QF" (OpenRouter)
  # @return [String, nil]
  #
  # source://activeagent//lib/active_agent/providers/common/responses/base.rb#135
  def id; end

  # @return [String, Array<Hash>, nil]
  #
  # source://activeagent//lib/active_agent/providers/common/responses/base.rb#87
  def instructions; end

  # Model name from provider response.
  #
  # Useful for confirming which model was actually used, as providers may
  # use different versions than requested.
  #
  # @example
  #   response.model  #=> "gpt-4o-mini-2024-07-18"
  #   response.model  #=> "claude-3-5-haiku-20241022"
  # @return [String, nil]
  #
  # source://activeagent//lib/active_agent/providers/common/responses/base.rb#157
  def model; end

  # Finish reason from provider response.
  #
  # Indicates why generation stopped (e.g., "stop", "length", "tool_calls").
  # Normalizes access across providers that use different field names.
  #
  # @example
  #   response.finish_reason  #=> "stop"
  #   response.finish_reason  #=> "length"
  #   response.finish_reason  #=> "tool_calls"
  #   response.stop_reason    #=> "stop" (alias)
  # @return [String, nil]
  #
  # source://activeagent//lib/active_agent/providers/common/responses/base.rb#194
  def stop_reason; end

  # @return [Boolean]
  # @todo Better handling of failure flows
  #
  # source://activeagent//lib/active_agent/providers/common/responses/base.rb#93
  def success?; end

  # Normalized usage statistics across all providers.
  #
  # For multi-turn conversations with tool calling, returns cumulative
  # usage across all API calls (sum of {#usages}).
  #
  # @example Multi-turn usage (cumulative)
  #   # After 3 API calls due to tool usage:
  #   response.usage.input_tokens      #=> 350 (sum of all calls)
  #   response.usage.output_tokens     #=> 120 (sum of all calls)
  # @example Single-turn usage
  #   response.usage.input_tokens      #=> 100
  #   response.usage.output_tokens     #=> 25
  #   response.usage.total_tokens      #=> 125
  # @return [Usage, nil]
  # @see Usage
  #
  # source://activeagent//lib/active_agent/providers/common/responses/base.rb#115
  def usage; end

  class << self
    private

    # source://activeagent//lib/active_agent/providers/common/responses/base.rb#31
    def __class_attr__validators; end

    # source://activeagent//lib/active_agent/providers/common/responses/base.rb#31
    def __class_attr__validators=(new_value); end
  end
end

# Response model for embedding responses
#
# This class represents responses from embedding endpoints.
# It includes the embedding data, the original context, raw API data,
# and usage statistics.
#
# == Example
#
#   response = EmbedResponse.new(
#     context: context_hash,
#     data: [embedding_array],
#     raw_response: { "usage" => { "prompt_tokens" => 10 } }
#   )
#
#   response.data           #=> [[0.1, 0.2, ...]]
#   response.prompt_tokens  #=> 10
#   response.usage          #=> { "prompt_tokens" => 10, ... }
#
# source://activeagent//lib/active_agent/providers/common/responses/embed.rb#26
class ActiveAgent::Providers::Common::Responses::Embed < ::ActiveAgent::Providers::Common::Responses::Base
  class << self
    private

    # source://activeagent//lib/active_agent/providers/common/responses/embed.rb#26
    def __class_attr__validators; end

    # source://activeagent//lib/active_agent/providers/common/responses/embed.rb#26
    def __class_attr__validators=(new_value); end
  end
end

# source://activeagent//lib/active_agent/providers/common/responses/format.rb#9
class ActiveAgent::Providers::Common::Responses::Format < ::ActiveAgent::Providers::Common::BaseModel
  # source://activeagent//lib/active_agent/providers/common/responses/format.rb#15
  def _run_validate_callbacks(&block); end

  # OpenAI's Responses => Common Format
  #
  # source://activeagent//lib/active_agent/providers/common/responses/format.rb#18
  def format=(value); end

  # OpenAI's Chat => Common Format
  #
  # source://activeagent//lib/active_agent/providers/common/responses/format.rb#23
  def json_schema=(value); end

  class << self
    private

    # source://activeagent//lib/active_agent/providers/common/responses/format.rb#15
    def __class_attr___callbacks; end

    # source://activeagent//lib/active_agent/providers/common/responses/format.rb#15
    def __class_attr___callbacks=(new_value); end

    # source://activeagent//lib/active_agent/providers/common/responses/format.rb#9
    def __class_attr__validators; end

    # source://activeagent//lib/active_agent/providers/common/responses/format.rb#9
    def __class_attr__validators=(new_value); end
  end
end

# Response model for prompt/completion responses
#
# This class represents responses from conversational/completion endpoints.
# It includes the generated messages, the original context, raw API data,
# and usage statistics.
#
# == Example
#
#   response = PromptResponse.new(
#     context: context_hash,
#     messages: [message_object],
#     raw_response: { "usage" => { "prompt_tokens" => 10 } }
#   )
#
#   response.message        #=> <Message>
#   response.prompt_tokens  #=> 10
#   response.usage          #=> { "prompt_tokens" => 10, ... }
#
# source://activeagent//lib/active_agent/providers/common/responses/prompt.rb#28
class ActiveAgent::Providers::Common::Responses::Prompt < ::ActiveAgent::Providers::Common::Responses::Base
  # The most recent message in the conversational stack
  #
  # source://activeagent//lib/active_agent/providers/common/responses/prompt.rb#35
  def message; end

  class << self
    private

    # source://activeagent//lib/active_agent/providers/common/responses/prompt.rb#28
    def __class_attr__validators; end

    # source://activeagent//lib/active_agent/providers/common/responses/prompt.rb#28
    def __class_attr__validators=(new_value); end
  end
end

# source://activeagent//lib/active_agent/providers/common/responses/_types.rb#11
module ActiveAgent::Providers::Common::Responses::Types; end

# source://activeagent//lib/active_agent/providers/common/responses/_types.rb#16
class ActiveAgent::Providers::Common::Responses::Types::FormatType < ::ActiveModel::Type::Value
  # source://activeagent//lib/active_agent/providers/common/responses/_types.rb#17
  def cast(value); end

  # source://activeagent//lib/active_agent/providers/common/responses/_types.rb#43
  def deserialize(value); end

  # source://activeagent//lib/active_agent/providers/common/responses/_types.rb#30
  def serialize(value); end
end

# Type for Messages array - delegates to the shared common messages type
#
# source://activeagent//lib/active_agent/providers/common/responses/_types.rb#13
class ActiveAgent::Providers::Common::Responses::Types::MessagesType < ::ActiveAgent::Providers::Common::Messages::Types::MessagesType; end

# Normalizes token usage statistics across AI providers.
#
# Providers return usage data in different formats with different field names.
# This model normalizes them into a consistent structure, automatically calculating
# +total_tokens+ if not provided.
#
# @example Accessing normalized usage data
#   usage = response.normalized_usage
#   usage.input_tokens      #=> 100
#   usage.output_tokens     #=> 25
#   usage.total_tokens      #=> 125
#   usage.cached_tokens     #=> 20 (if available)
# @example Provider-specific details
#   usage.provider_details  #=> { "completion_tokens_details" => {...}, ... }
#   usage.duration_ms       #=> 5000 (for Ollama)
#   usage.service_tier      #=> "standard" (for Anthropic)
# @see https://docs.anthropic.com/en/api/messages Anthropic Messages API
# @see https://github.com/ollama/ollama/blob/main/docs/api.md Ollama API
# @see https://platform.openai.com/docs/api-reference/chat/object OpenAI Chat Completion
#
# source://activeagent//lib/active_agent/providers/common/usage.rb#29
class ActiveAgent::Providers::Common::Usage < ::ActiveAgent::Providers::Common::BaseModel
  # Automatically calculates total_tokens if not provided.
  #
  # @option attributes
  # @option attributes
  # @option attributes
  # @option attributes
  # @option attributes
  # @option attributes
  # @option attributes
  # @option attributes
  # @option attributes
  # @option attributes
  # @param attributes [Hash]
  # @return [Usage] a new instance of Usage
  #
  # source://activeagent//lib/active_agent/providers/common/usage.rb#123
  def initialize(attributes = T.unsafe(nil)); end

  # Sums all token counts from two Usage objects.
  #
  # @example
  #   usage1 = Usage.new(input_tokens: 100, output_tokens: 50)
  #   usage2 = Usage.new(input_tokens: 75, output_tokens: 25)
  #   combined = usage1 + usage2
  #   combined.input_tokens  #=> 175
  #   combined.output_tokens #=> 75
  #   combined.total_tokens  #=> 250
  # @param other [Usage]
  # @return [Usage]
  #
  # source://activeagent//lib/active_agent/providers/common/usage.rb#141
  def +(other); end

  private

  # @param a [Integer, nil]
  # @param b [Integer, nil]
  # @return [Integer, nil] nil if both inputs are nil
  #
  # source://activeagent//lib/active_agent/providers/common/usage.rb#361
  def sum_optional(a, b); end

  class << self
    # @param duration_ns [Integer, nil]
    # @param tokens [Integer, nil]
    # @return [Float, nil]
    #
    # source://activeagent//lib/active_agent/providers/common/usage.rb#377
    def calculate_tokens_per_second(tokens, duration_ns); end

    # @param nanoseconds [Integer, nil]
    # @return [Integer, nil]
    #
    # source://activeagent//lib/active_agent/providers/common/usage.rb#368
    def convert_nanoseconds_to_ms(nanoseconds); end

    # Creates a Usage object from Anthropic usage data.
    #
    # @example
    #   Usage.from_anthropic({
    #   "input_tokens" => 2095,
    #   "output_tokens" => 503,
    #   "cache_read_input_tokens" => 1500,
    #   "cache_creation_input_tokens" => 2051,
    #   "service_tier" => "standard"
    #   })
    # @param usage_hash [Hash]
    # @return [Usage]
    #
    # source://activeagent//lib/active_agent/providers/common/usage.rb#257
    def from_anthropic(usage_hash); end

    # Creates a Usage object from Ollama usage data.
    #
    # @example
    #   Usage.from_ollama({
    #   "prompt_eval_count" => 50,
    #   "eval_count" => 25,
    #   "total_duration" => 5000000000,
    #   "load_duration" => 1000000000
    #   })
    # @param usage_hash [Hash]
    # @return [Usage]
    #
    # source://activeagent//lib/active_agent/providers/common/usage.rb#284
    def from_ollama(usage_hash); end

    # Creates a Usage object from OpenAI Chat Completion usage data.
    #
    # @example
    #   Usage.from_openai_chat({
    #   "prompt_tokens" => 100,
    #   "completion_tokens" => 25,
    #   "total_tokens" => 125,
    #   "prompt_tokens_details" => { "cached_tokens" => 20 },
    #   "completion_tokens_details" => { "reasoning_tokens" => 3 }
    #   })
    # @param usage_hash [Hash]
    # @return [Usage]
    #
    # source://activeagent//lib/active_agent/providers/common/usage.rb#168
    def from_openai_chat(usage_hash); end

    # Creates a Usage object from OpenAI Embedding API usage data.
    #
    # @example
    #   Usage.from_openai_embedding({
    #   "prompt_tokens" => 8,
    #   "total_tokens" => 8
    #   })
    # @param usage_hash [Hash]
    # @return [Usage]
    #
    # source://activeagent//lib/active_agent/providers/common/usage.rb#201
    def from_openai_embedding(usage_hash); end

    # Creates a Usage object from OpenAI Responses API usage data.
    #
    # @example
    #   Usage.from_openai_responses({
    #   "input_tokens" => 150,
    #   "output_tokens" => 75,
    #   "total_tokens" => 225,
    #   "input_tokens_details" => { "cached_tokens" => 50 },
    #   "output_tokens_details" => { "reasoning_tokens" => 10 }
    #   })
    # @param usage_hash [Hash]
    # @return [Usage]
    #
    # source://activeagent//lib/active_agent/providers/common/usage.rb#227
    def from_openai_responses(usage_hash); end

    # Creates a Usage object from OpenRouter usage data.
    #
    # OpenRouter uses the same format as OpenAI Chat Completion.
    #
    # @example
    #   Usage.from_openrouter({
    #   "prompt_tokens" => 14,
    #   "completion_tokens" => 4,
    #   "total_tokens" => 18
    #   })
    # @param usage_hash [Hash]
    # @return [Usage]
    #
    # source://activeagent//lib/active_agent/providers/common/usage.rb#315
    def from_openrouter(usage_hash); end

    # Auto-detects the provider format and creates a normalized Usage object.
    #
    # @example
    #   Usage.from_provider_usage(some_usage_hash)
    # @note Detection is based on hash structure rather than native gem types
    #   because we cannot force-load all provider gems. This allows the framework
    #   to work with only the gems the user has installed.
    # @param usage_hash [Hash]
    # @return [Usage, nil]
    #
    # source://activeagent//lib/active_agent/providers/common/usage.rb#330
    def from_provider_usage(usage_hash); end

    private

    # source://activeagent//lib/active_agent/providers/common/usage.rb#29
    def __class_attr__validators; end

    # source://activeagent//lib/active_agent/providers/common/usage.rb#29
    def __class_attr__validators=(new_value); end
  end
end

# Provides exception handling for provider operations.
#
# This concern implements basic exception handling that allows agents to
# define custom error handling logic via rescue_from callbacks. The actual
# retry logic is now handled by the underlying provider gems (ruby-openai,
# anthropic-rb, etc.) which provide their own retry mechanisms.
#
# @example Agent-level error handling
#   class MyAgent < ActiveAgent::Base
#   rescue_from SomeError do |exception|
#   # Handle the error
#   end
#   end
# @example Using exception handler
#   class MyProvider
#   include ActiveAgent::Providers::ExceptionHandler
#
#   def call
#   with_exception_handling do
#   # API call that may fail
#   end
#   end
#   end
#
# source://activeagent//lib/active_agent/providers/concerns/exception_handler.rb#29
module ActiveAgent::Providers::ExceptionHandler
  extend ::ActiveSupport::Concern

  # Configures instance-level exception handling.
  #
  # @param exception_handler [Proc, nil] callback for handling exceptions
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/concerns/exception_handler.rb#42
  def configure_exception_handler(exception_handler: T.unsafe(nil)); end

  # Bubbles up exceptions to the Agent's rescue_from if a handler is defined.
  #
  # This method delegates exception handling to the configured exception handler,
  # allowing agents to define custom error handling logic.
  #
  # @param exception [StandardError] The exception to handle
  # @return [Object, nil] Result from the exception handler, or nil if no handler
  #
  # source://activeagent//lib/active_agent/providers/concerns/exception_handler.rb#67
  def rescue_with_handler(exception); end

  # Executes a block with exception handling.
  #
  # @example Basic usage
  #   with_exception_handling { api_call }
  # @raise [StandardError] Any unhandled exception from the block
  # @return [Object] The result of the block execution
  # @yield Block to execute with exception protection
  #
  # source://activeagent//lib/active_agent/providers/concerns/exception_handler.rb#54
  def with_exception_handling(&block); end
end

# Builds instrumentation event payloads for ActiveSupport::Notifications.
#
# Extracts request parameters and response metadata for monitoring, debugging,
# and APM integration (New Relic, DataDog, etc.).
#
# == Event Payloads
#
# Top-Level Events (overall request lifecycle):
#
# prompt.active_agent::
#   Initial: `{ model:, temperature:, max_tokens:, message_count:, has_tools:, stream: }`
#   Final: `{ usage: { input_tokens:, output_tokens:, total_tokens: }, finish_reason:, response_model:, response_id: }`
#   Note: Usage is cumulative across all API calls in multi-turn conversations
#
# embed.active_agent::
#   Initial: `{ model:, input_size:, encoding_format:, dimensions: }`
#   Final: `{ usage: { input_tokens:, total_tokens: }, embedding_count:, response_model:, response_id: }`
#
# Provider-Level Events (per API call):
#
# prompt.provider.active_agent::
#   Initial: `{ model:, temperature:, max_tokens:, message_count:, has_tools:, stream: }`
#   Final: `{ usage: { input_tokens:, output_tokens:, total_tokens: }, finish_reason:, response_model:, response_id: }`
#   Note: Usage is per individual API call
#
# embed.provider.active_agent::
#   Initial: `{ model:, input_size:, encoding_format:, dimensions: }`
#   Final: `{ usage: { input_tokens:, total_tokens: }, embedding_count:, response_model:, response_id: }`
#
# source://activeagent//lib/active_agent/providers/concerns/instrumentation.rb#33
module ActiveAgent::Providers::Instrumentation
  extend ::ActiveSupport::Concern

  # Builds and merges payload data for prompt instrumentation events.
  #
  # Populates both request parameters and response metadata for top-level and
  # provider-level events. Usage data (tokens) is CRITICAL for APM cost tracking
  # and performance monitoring.
  #
  # @param payload [Hash] instrumentation payload to merge into
  # @param request [Request] request object with parameters
  # @param response [Common::PromptResponse] completed response with normalized data
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/concerns/instrumentation.rb#46
  def instrumentation_prompt_payload(payload, request, response); end

  private

  # Extract a simple hash from a provider message object or hash-like value.
  #
  # source://activeagent//lib/active_agent/providers/concerns/instrumentation.rb#162
  def extract_message_hash(msg, is_response = T.unsafe(nil)); end

  # Builds and merges payload data for embed instrumentation events.
  #
  # Embeddings typically only report input tokens (no output tokens).
  #
  # @param payload [Hash] instrumentation payload to merge into
  # @param request [Request] request object with parameters
  # @param response [Common::EmbedResponse] completed response with normalized data
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/concerns/instrumentation.rb#202
  def instrumentation_embed_payload(payload, request, response); end

  # Safely attempt to call a method or lookup a key on an object. We avoid
  # probing with `respond_to?` to prevent ActiveModel attribute casting side
  # effects; instead we attempt the call and rescue failures.
  #
  # source://activeagent//lib/active_agent/providers/concerns/instrumentation.rb#137
  def safe_access(obj, name); end
end

# Logs provider operations via ActiveSupport::Notifications events.
#
# Subscribes to instrumented provider events and formats them consistently.
# Customize by subclassing and attaching your subscriber, or adjust log levels.
#
# @example Custom log formatting
#   class MyLogSubscriber < ActiveAgent::Providers::LogSubscriber
#   def prompt(event)
#   info " #{event.payload[:provider_module]}: #{event.duration}ms"
#   end
#   end
#
#   ActiveAgent::Providers::LogSubscriber.detach_from :active_agent
#   MyLogSubscriber.attach_to :active_agent
#
# source://activeagent//lib/active_agent/providers/log_subscriber.rb#21
class ActiveAgent::Providers::LogSubscriber < ::ActiveSupport::LogSubscriber
  # Logs connection failures with service URI and error details.
  #
  # @param event [ActiveSupport::Notifications::Event]
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/log_subscriber.rb#146
  def connection_error(event); end

  # Logs completed embedding with model, input size, and token usage.
  #
  # @param event [ActiveSupport::Notifications::Event]
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/log_subscriber.rb#64
  def embed(event); end

  # Logs completed prompt with model, message count, token usage, and duration.
  #
  # @param event [ActiveSupport::Notifications::Event]
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/log_subscriber.rb#28
  def prompt(event); end

  # @param event [ActiveSupport::Notifications::Event]
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/log_subscriber.rb#127
  def stream_chunk(event); end

  # @param event [ActiveSupport::Notifications::Event]
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/log_subscriber.rb#101
  def stream_close(event); end

  # @param event [ActiveSupport::Notifications::Event]
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/log_subscriber.rb#89
  def stream_open(event); end

  # @param event [ActiveSupport::Notifications::Event]
  # @return [void]
  #
  # source://activeagent//lib/active_agent/providers/log_subscriber.rb#113
  def tool_call(event); end

  private

  # @return [Logger]
  #
  # source://activeagent//lib/active_agent/providers/log_subscriber.rb#162
  def logger; end
end

# Generates markdown previews of prompts for debugging and inspection.
#
# Renders request parameters, instructions, messages, and tools in a
# human-readable format without executing the actual API call.
#
# source://activeagent//lib/active_agent/providers/concerns/previewable.rb#9
module ActiveAgent::Providers::Previewable
  extend ::ActiveSupport::Concern

  # Generates a markdown preview of the prompt request.
  #
  # @return [String] markdown-formatted preview
  #
  # source://activeagent//lib/active_agent/providers/concerns/previewable.rb#15
  def preview_prompt; end

  private

  # Extracts text content from various message formats.
  #
  # Handles string messages, hash messages with :content key, and
  # array content blocks (extracting only text-type blocks).
  #
  # @param message [Hash, String, nil]
  # @return [String]
  #
  # source://activeagent//lib/active_agent/providers/concerns/previewable.rb#151
  def extract_message_content(message); end

  # Extracts tool details from different formats.
  #
  # @param tool [Hash]
  # @return [Array<String, String, Hash>] [name, description, parameters]
  #
  # source://activeagent//lib/active_agent/providers/concerns/previewable.rb#123
  def extract_tool_details(tool); end

  # @param instructions [String]
  # @return [String]
  #
  # source://activeagent//lib/active_agent/providers/concerns/previewable.rb#58
  def render_instructions_section(instructions); end

  # Renders markdown preview with YAML metadata, instructions, messages, and tools.
  #
  # Sections are separated by `---` dividers for readability.
  #
  # @param parameters [Hash]
  # @return [String]
  #
  # source://activeagent//lib/active_agent/providers/concerns/previewable.rb#32
  def render_markdown_preview(parameters); end

  # Renders conversation messages with role labels.
  #
  # @param messages [Array<Hash>]
  # @return [String]
  #
  # source://activeagent//lib/active_agent/providers/concerns/previewable.rb#66
  def render_messages_section(messages); end

  # @param index [Integer] 1-based message number
  # @param message [Hash]
  # @return [String]
  #
  # source://activeagent//lib/active_agent/providers/concerns/previewable.rb#82
  def render_single_message(message, index); end

  # Renders tools section for preview.
  #
  # Handles multiple tool formats:
  # - Common format: {name: "...", description: "...", parameters: {...}}
  # - Anthropic format: {name: "...", description: "...", input_schema: {...}}
  # - Chat API format: {type: "function", function: {name: "...", description: "...", parameters: {...}}}
  # - Responses API format: {type: "function", name: "...", description: "...", parameters: {...}}
  #
  # @param tools [Array<Hash>]
  # @return [String]
  #
  # source://activeagent//lib/active_agent/providers/concerns/previewable.rb#99
  def render_tools_section(tools); end

  # Renders request metadata as YAML.
  #
  # @param parameters [Hash]
  # @return [String]
  #
  # source://activeagent//lib/active_agent/providers/concerns/previewable.rb#179
  def render_yaml_section(parameters); end
end

# Provides unified logic for clearing tool_choice after tool execution.
#
# When a tool_choice is set to "required" or to a specific tool name,
# it forces the model to use that tool. After the tool is executed,
# we need to clear the tool_choice to prevent infinite loops where
# the model keeps calling the same tool repeatedly.
#
# Each provider implements:
# - `extract_used_function_names`: Returns array of tool names that have been called
# - `tool_choice_forces_required?`: Returns true if tool_choice forces any tool use
# - `tool_choice_forces_specific?`: Returns [true, name] if tool_choice forces specific tool
#
# source://activeagent//lib/active_agent/providers/concerns/tool_choice_clearing.rb#16
module ActiveAgent::Providers::ToolChoiceClearing
  extend ::ActiveSupport::Concern

  # @api private
  #
  # source://activeagent//lib/active_agent/providers/concerns/tool_choice_clearing.rb#20
  def prepare_prompt_request_tools; end

  private

  # Extracts the list of function names that have been called.
  #
  # @raise [NotImplementedError]
  # @return [Array<String>] function names
  #
  # source://activeagent//lib/active_agent/providers/concerns/tool_choice_clearing.rb#43
  def extract_used_function_names; end

  # Returns true if tool_choice forces any tool to be used (e.g., "required", "any").
  #
  # @raise [NotImplementedError]
  # @return [Boolean]
  #
  # source://activeagent//lib/active_agent/providers/concerns/tool_choice_clearing.rb#50
  def tool_choice_forces_required?; end

  # Returns [true, tool_name] if tool_choice forces a specific tool, [false, nil] otherwise.
  #
  # @raise [NotImplementedError]
  # @return [Array<Boolean, String|nil>]
  #
  # source://activeagent//lib/active_agent/providers/concerns/tool_choice_clearing.rb#57
  def tool_choice_forces_specific?; end
end

# Configures asynchronous generation via Active Job.
#
# Provides class attributes to customize which job class processes
# queued generations and which queue they run on. Enables agents to
# defer prompt generation and embedding operations for background processing.
#
# @example Custom job class
#   class MyAgent < ActiveAgent::Base
#   self.generation_job = CustomGenerationJob
#   end
# @example Custom queue name
#   class PriorityAgent < ActiveAgent::Base
#   self.generate_later_queue_name = :high_priority
#   end
# @see ActiveAgent::GenerationJob
#
# source://activeagent//lib/active_agent/concerns/queueing.rb#21
module ActiveAgent::Queueing
  extend ::ActiveSupport::Concern
  include GeneratedInstanceMethods

  mixes_in_class_methods GeneratedClassMethods

  module GeneratedClassMethods
    def generate_later_queue_name; end
    def generate_later_queue_name=(value); end
    def generate_later_queue_name?; end
    def generation_job; end
    def generation_job=(value); end
    def generation_job?; end
  end

  module GeneratedInstanceMethods
    def generate_later_queue_name; end
    def generate_later_queue_name=(value); end
    def generate_later_queue_name?; end
    def generation_job; end
    def generation_job=(value); end
    def generation_job?; end
  end
end

# source://activeagent//lib/active_agent/railtie.rb#10
class ActiveAgent::Railtie < ::Rails::Railtie; end

# Provides exception handling for action prompts using `rescue_from` declarations.
#
# Handler methods must be public or protected because ActiveSupport::Rescuable
# uses `Kernel#method()` for lookup.
#
# @see ActiveSupport::Rescuable
# @see https://github.com/rails/rails/blob/main/actionpack/lib/action_controller/metal/rescue.rb
#
# source://activeagent//lib/active_agent/concerns/rescue.rb#11
module ActiveAgent::Rescue
  extend ::ActiveSupport::Concern
  include GeneratedInstanceMethods
  include ::ActiveSupport::Rescuable

  mixes_in_class_methods GeneratedClassMethods
  mixes_in_class_methods ::ActiveSupport::Rescuable::ClassMethods
  mixes_in_class_methods ::ActiveAgent::Rescue::ClassMethods

  # Yields to block with exception handling.
  # Rescues using registered handlers or re-raises.
  #
  # @raise [Exception] if no handler is registered for the exception
  # @yield block to execute with exception handling
  #
  # source://activeagent//lib/active_agent/concerns/rescue.rb#34
  def handle_exceptions; end

  private

  # Returns proc that rescues exceptions using registered handlers.
  #
  # @api private
  # @return [Proc]
  #
  # source://activeagent//lib/active_agent/concerns/rescue.rb#58
  def exception_handler; end

  # Processes the prompt with exception handling.
  #
  # Overrides parent to rescue exceptions using registered handlers.
  #
  # @api private
  # @raise [Exception] if no handler is registered for the exception
  #
  # source://activeagent//lib/active_agent/concerns/rescue.rb#48
  def process(*_arg0, **_arg1, &_arg2); end

  module GeneratedClassMethods
    def rescue_handlers; end
    def rescue_handlers=(value); end
    def rescue_handlers?; end
  end

  module GeneratedInstanceMethods
    def rescue_handlers; end
    def rescue_handlers=(value); end
    def rescue_handlers?; end
  end
end

module ActiveAgent::Rescue::ClassMethods; end

# Provides automatic JSON Schema generation from ActiveRecord and ActiveModel classes.
#
# This module can be included in any ActiveRecord or ActiveModel class to add the ability
# to generate JSON Schema representations. The generated schemas can be used for API
# documentation, validation, or as input to AI models that support structured outputs.
#
# @example ActiveModel usage
#   class ContactForm
#   include ActiveModel::Model
#   include ActiveAgent::SchemaGenerator
#
#   attribute :name, :string
#   attribute :email, :string
#   attribute :message, :text
#   end
#
#   ContactForm.to_json_schema
# @example Basic usage with ActiveRecord
#   class User < ApplicationRecord
#   include ActiveAgent::SchemaGenerator
#   end
#
#   User.to_json_schema
#   # => { type: "object", properties: { ... }, required: [...] }
# @example With options
#   User.to_json_schema(
#   exclude: [:password_digest],
#   include_associations: true,
#   strict: true
#   )
# @see Builder
#
# source://activeagent//lib/active_agent/schema_generator.rb#38
module ActiveAgent::SchemaGenerator
  extend ::ActiveSupport::Concern

  mixes_in_class_methods ::ActiveAgent::SchemaGenerator::ActiveModelClassMethods

  # Generates a JSON string representation of a model's schema.
  #
  # This is an instance method that can be used to generate schema views
  # for individual model instances, though it operates on the class level.
  #
  # @deprecated This method may be removed in future versions. Use the class method `to_json_schema` instead.
  # @param model_class [Class] The model class to generate a schema for
  # @param options [Hash] Schema generation options (see {ActiveRecordClassMethods#to_json_schema})
  # @return [String] JSON string representation of the schema
  #
  # source://activeagent//lib/active_agent/schema_generator.rb#427
  def generate_schema_view(model_class, options = T.unsafe(nil)); end
end

# Class methods added to ActiveModel classes.
#
# source://activeagent//lib/active_agent/schema_generator.rb#85
module ActiveAgent::SchemaGenerator::ActiveModelClassMethods
  # Generates a JSON Schema representation of the ActiveModel class.
  #
  # @example Basic schema generation
  #   ContactForm.to_json_schema
  # @example Exclude specific fields
  #   ContactForm.to_json_schema(exclude: [:internal_notes])
  # @example OpenAI strict mode
  #   ContactForm.to_json_schema(strict: true, name: "contact_form")
  # @option options
  # @option options
  # @option options
  # @option options
  # @param options [Hash] Options for schema generation
  # @return [Hash] JSON Schema representation of the model
  #
  # source://activeagent//lib/active_agent/schema_generator.rb#104
  def to_json_schema(options = T.unsafe(nil)); end
end

# Class methods added to ActiveRecord models.
#
# source://activeagent//lib/active_agent/schema_generator.rb#53
module ActiveAgent::SchemaGenerator::ActiveRecordClassMethods
  # Generates a JSON Schema representation of the ActiveRecord model.
  #
  # @example Basic schema generation
  #   User.to_json_schema
  # @example Exclude specific fields
  #   User.to_json_schema(exclude: [:password_digest, :created_at])
  # @example Include associations
  #   User.to_json_schema(include_associations: true, nested_associations: true)
  # @example OpenAI strict mode
  #   User.to_json_schema(strict: true, name: "user")
  # @option options
  # @option options
  # @option options
  # @option options
  # @option options
  # @option options
  # @option options
  # @option options
  # @param options [Hash] Options for schema generation
  # @return [Hash] JSON Schema representation of the model
  #
  # source://activeagent//lib/active_agent/schema_generator.rb#79
  def to_json_schema(options = T.unsafe(nil)); end
end

# Internal builder class for constructing JSON Schemas from model classes.
#
# This class handles the actual schema generation logic, supporting both
# ActiveRecord and ActiveModel classes with various options and configurations.
#
# @api private
#
# source://activeagent//lib/active_agent/schema_generator.rb#115
class ActiveAgent::SchemaGenerator::Builder
  class << self
    # Generates a JSON Schema from a model class.
    #
    # @api private
    # @param model_class [Class] The ActiveRecord or ActiveModel class
    # @param options [Hash] Schema generation options
    # @raise [ArgumentError] If model_class is not an ActiveRecord or ActiveModel class
    # @return [Hash] The generated JSON Schema
    #
    # source://activeagent//lib/active_agent/schema_generator.rb#124
    def json_schema_from_model(model_class, options = T.unsafe(nil)); end

    private

    # Adds association definitions to the schema.
    #
    # Supports has_many, has_one, belongs_to, and has_and_belongs_to_many
    # associations. Can optionally include nested schemas for associated models.
    #
    # @api private
    # @param model_class [Class] The ActiveRecord model class
    # @param options [Hash] Schema generation options
    # @param schema [Hash] The schema hash to populate
    # @return [void]
    #
    # source://activeagent//lib/active_agent/schema_generator.rb#321
    def add_associations_to_schema(schema, model_class, options); end

    # Adds validation constraints to the schema.
    #
    # Translates ActiveModel validations (presence, length, numericality,
    # inclusion, format) into corresponding JSON Schema constraints.
    #
    # @api private
    # @param model_class [Class] The model class
    # @param options [Hash] Schema generation options (unused but kept for consistency)
    # @param schema [Hash] The schema hash to populate
    # @return [void]
    #
    # source://activeagent//lib/active_agent/schema_generator.rb#369
    def add_validations_to_schema(schema, model_class, options); end

    # Builds a JSON Schema from an ActiveModel class.
    #
    # Extracts attribute types and validations to build a schema representation.
    #
    # @api private
    # @param model_class [Class] The ActiveModel class
    # @param options [Hash] Schema generation options
    # @param schema [Hash] The schema hash to populate
    # @return [void]
    #
    # source://activeagent//lib/active_agent/schema_generator.rb#197
    def build_activemodel_schema(schema, model_class, options); end

    # Builds a JSON Schema from an ActiveRecord model.
    #
    # Extracts column information, associations, and validations to build
    # a comprehensive schema representation.
    #
    # @api private
    # @param model_class [Class] The ActiveRecord model class
    # @param options [Hash] Schema generation options
    # @param schema [Hash] The schema hash to populate
    # @return [void]
    #
    # source://activeagent//lib/active_agent/schema_generator.rb#164
    def build_activerecord_schema(schema, model_class, options); end

    # Builds a JSON Schema property definition from an ActiveRecord column.
    #
    # Maps database column types to JSON Schema types and includes metadata
    # like length constraints, formats, and default values.
    #
    # @api private
    # @param column [ActiveRecord::ConnectionAdapters::Column] The database column
    # @return [Hash] JSON Schema property definition
    #
    # source://activeagent//lib/active_agent/schema_generator.rb#224
    def build_property_from_column(column); end

    # Builds a JSON Schema property definition from an ActiveModel type.
    #
    # @api private
    # @param type [ActiveModel::Type::Value] The ActiveModel type
    # @return [Hash] JSON Schema property definition
    #
    # source://activeagent//lib/active_agent/schema_generator.rb#262
    def build_property_from_type(type); end

    # Maps SQL column types to JSON Schema types.
    #
    # @api private
    # @param sql_type [Symbol] The SQL column type
    # @return [String] The corresponding JSON Schema type
    #
    # source://activeagent//lib/active_agent/schema_generator.rb#292
    def map_sql_type_to_json_type(sql_type); end
  end
end

# source://activeagent//lib/active_agent/railtie/schema_generator_extension.rb#6
class ActiveAgent::SchemaGeneratorRailtie < ::Rails::Railtie; end

# Provides streaming callback support for agent classes.
#
# Callbacks can be registered for three points in the streaming lifecycle:
# - {on_stream_open} - invoked before the first chunk
# - {on_stream} - invoked for every chunk received
# - {on_stream_close} - invoked after the final chunk
#
# Callbacks automatically receive a {StreamChunk} parameter if they accept arguments.
#
# @example Basic usage with chunk parameter
#   class MyPrompt < ActiveAgent::Base
#   on_stream_open :setup_stream
#   on_stream :log_chunk
#   on_stream_close :cleanup_stream
#
#   private
#
#   def setup_stream(chunk)
#   puts "Stream opening..."
#   puts "First message: #{chunk.message}"
#   end
#
#   def log_chunk(chunk)
#   print chunk.delta if chunk.delta
#   end
#
#   def cleanup_stream(chunk)
#   puts "\nStream complete!"
#   end
#   end
# @example Usage without chunk parameter
#   class MyPrompt < ActiveAgent::Base
#   on_stream_open :initialize_counter
#   on_stream :increment_counter
#   on_stream_close :log_total
#
#   private
#
#   def initialize_counter
#   @count = 0
#   end
#
#   def increment_counter
#   @count += 1
#   end
#
#   def log_total
#   puts "Total chunks: #{@count}"
#   end
#   end
# @example Using blocks
#   class MyPrompt < ActiveAgent::Base
#   on_stream do |chunk|
#   Rails.logger.info("Received: #{chunk.delta}")
#   end
#   end
# @example With callback options
#   class MyPrompt < ActiveAgent::Base
#   on_stream :log_chunk, if: :debug_mode?
#   on_stream_close :save_response, unless: :test_environment?
#   end
#
# source://activeagent//lib/active_agent/concerns/streaming.rb#68
module ActiveAgent::Streaming
  extend ::ActiveSupport::Concern
  include GeneratedInstanceMethods
  include ::ActiveSupport::Callbacks
  include ::AbstractController::Callbacks

  mixes_in_class_methods GeneratedClassMethods
  mixes_in_class_methods ::ActiveAgent::Streaming::ClassMethods
  mixes_in_class_methods ::ActiveSupport::Callbacks::ClassMethods
  mixes_in_class_methods ::ActiveSupport::DescendantsTracker
  mixes_in_class_methods ::AbstractController::Callbacks::ClassMethods

  private

  # Returns a proc that runs streaming callbacks for provider execution.
  #
  # The returned proc creates a {StreamChunk} and triggers callbacks
  # based on the type parameter (`:open`, `:update`, or `:close`).
  #
  # @return [Proc] callback proc that accepts (message, delta, type)
  #
  # source://activeagent//lib/active_agent/concerns/streaming.rb#269
  def stream_broadcaster; end

  module GeneratedClassMethods
    def __callbacks; end
    def __callbacks=(value); end
  end

  module GeneratedInstanceMethods
    def __callbacks; end
  end
end

module ActiveAgent::Streaming::ClassMethods
  # source://activeagent//lib/active_agent/concerns/streaming.rb#213
  def _stream_define_callback(callback_name, *names, &block); end

  # source://activeagent//lib/active_agent/concerns/streaming.rb#224
  def _stream_define_callback_wrapper(callback_name, method_ref); end

  # source://activeagent//lib/active_agent/concerns/streaming.rb#236
  def _stream_define_callback_wrapper_name(callback_name, method_name); end

  # source://activeagent//lib/active_agent/concerns/streaming.rb#250
  def _stream_define_callback_wrapper_proc(callback_name, method_proc); end

  # source://activeagent//lib/active_agent/concerns/streaming.rb#166
  def on_stream(*names, &block); end

  # source://activeagent//lib/active_agent/concerns/streaming.rb#204
  def on_stream_close(*names, &block); end

  # source://activeagent//lib/active_agent/concerns/streaming.rb#128
  def on_stream_open(*names, &block); end
end

# Data object representing a chunk of streamed content.
#
# source://activeagent//lib/active_agent/concerns/streaming.rb#77
class ActiveAgent::Streaming::StreamChunk < ::Data; end

# Provides tool/function calling support for agent classes.
#
# Enables agent classes to respond to tool calls from providers
# by routing them to the appropriate action methods.
#
# source://activeagent//lib/active_agent/concerns/tooling.rb#8
module ActiveAgent::Tooling
  extend ::ActiveSupport::Concern

  # Returns a proc that handles tool/function calls from providers.
  #
  # The proc routes tool calls to the appropriate action method using
  # the {#process} method.
  #
  # @return [Proc] callback proc that accepts (action_name, *args, **kwargs)
  #
  # source://activeagent//lib/active_agent/concerns/tooling.rb#17
  def tools_function; end
end

# source://activeagent//lib/active_agent/version.rb#2
ActiveAgent::VERSION = T.let(T.unsafe(nil), String)

# Provides template lookup and rendering for agent classes.
#
# Enables agents to render instructions, schemas, and messages from
# ERB templates with flexible directory structures and fallback paths.
#
# source://activeagent//lib/active_agent/concerns/view.rb#8
module ActiveAgent::View
  extend ::ActiveSupport::Concern
  include GeneratedInstanceMethods
  include ::ActionView::ViewPaths
  include ::ActionView::Rendering
  include ::ActionView::Layouts

  mixes_in_class_methods GeneratedClassMethods
  mixes_in_class_methods ::ActionView::ViewPaths::ClassMethods
  mixes_in_class_methods ::ActionView::Rendering::ClassMethods
  mixes_in_class_methods ::ActionView::Layouts::ClassMethods

  # Builds template lookup paths supporting both flat and nested directory structures.
  #
  # Templates are searched in priority order:
  # - `app/views/{agent_name}/` (e.g., `app/views/support_agent/`)
  # - `app/views/agents/{agent_without_suffix}/` (e.g., `app/views/agents/support/`)
  #
  # With action_name present:
  # - `app/views/agents/{agent_without_suffix}/{action_name}/`
  # - `app/views/{agent_name}/{action_name}/`
  # - `app/views/{agent_name}/`
  # - `app/views/agents/{agent_without_suffix}/`
  #
  # @return [Array<String>] ordered prefixes for template lookup
  #
  # source://activeagent//lib/active_agent/concerns/view.rb#28
  def _prefixes; end

  # Renders template for embedding input.
  #
  # @param action_name [String, Symbol]
  # @param locals [Hash]
  # @return [String, nil]
  #
  # source://activeagent//lib/active_agent/concerns/view.rb#121
  def embed_view_input(action_name, **locals); end

  # Prepares instructions from various input formats.
  #
  # Supported formats:
  # - `String`: returned as-is
  # - `Symbol`: invokes method with that name (like ActiveRecord callbacks)
  # - `Array<String>`: returned as-is if all elements are strings
  # - `Hash`: requires `:template` key, optional `:locals`
  # - `nil` or `true`: renders default "instructions" template
  #
  # @param value [Hash, String, Symbol, Array<String>, Boolean, nil]
  # @raise [ArgumentError] if format is invalid or Hash missing :template key
  # @return [String, Array<String>, nil] nil if template not found
  #
  # source://activeagent//lib/active_agent/concerns/view.rb#62
  def prompt_view_instructions(value); end

  # Renders template for a prompt action or message.
  #
  # @param action_name [String, Symbol]
  # @param locals [Hash]
  # @return [String, nil]
  #
  # source://activeagent//lib/active_agent/concerns/view.rb#92
  def prompt_view_message(action_name, strict:, **locals); end

  # Renders JSON schema from template or returns Hash directly.
  #
  # Schema templates are looked up as `{name}.json`:
  # - When value is `true` or `nil`: looks for `{action_name}.json`
  # - When value is a String/Symbol: looks for `{value}.json`
  # - When value is a Hash: returns the Hash directly
  #
  # @param value [Hash, String, Symbol, Boolean, nil]
  # @return [Hash, String, nil]
  #
  # source://activeagent//lib/active_agent/concerns/view.rb#105
  def prompt_view_schema(value); end

  private

  # Renders a template if it exists in any supported ERB format.
  #
  # Templates are looked up using the prefixes defined in `_prefixes`:
  # 1. `app/views/{agent_name}/` (e.g., `app/views/statements_agent/`)
  # 2. `app/views/agents/{agent_without_suffix}/` (e.g., `app/views/agents/statements/`)
  #
  # @param format [Symbol, nil] specific format to look for (e.g., :json, :html)
  # @param locals [Hash] local variables passed to template
  # @param strict [Boolean] if true, raises error when template not found
  # @param template_name [String, Symbol] template file name without extension
  # @return [String, nil] nil if template not found and not strict
  #
  # source://activeagent//lib/active_agent/concerns/view.rb#140
  def view_render_template(template_name, strict: T.unsafe(nil), formats: T.unsafe(nil), **locals); end

  module GeneratedClassMethods
    def _layout; end
    def _layout=(value); end
    def _layout?; end
    def _layout_conditions; end
    def _layout_conditions=(value); end
    def _layout_conditions?; end
  end

  module GeneratedInstanceMethods
    def _layout_conditions; end
    def _layout_conditions?; end
  end
end

# @private
#
# source://activeagent//lib/active_agent/providers/_base_provider.rb#10
GEM_LOADERS = T.let(T.unsafe(nil), Hash)

class Object < ::BasicObject
  include ::Kernel
  include ::PP::ObjectMixin

  private

  # source://activeagent//lib/active_agent/providers/_base_provider.rb#21
  def require_gem!(type, file_name); end
end
